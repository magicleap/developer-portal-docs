---
title: MLCameraVideoSource
summary: demonstrates using the mlcamera as an app defined video source. 

---

# MLCameraVideoSource




Demonstrates using the [MLCamera](/versioned_docs/version-03-Jan-2023/unity-api/api/UnityEngine.XR.MagicLeap/MLCamera/UnityEngine.XR.MagicLeap.MLCamera.md) as an app defined video source.   


Inherits from: <br></br>[AppDefinedVideoSource](/versioned_docs/version-03-Jan-2023/unity-api/api/UnityEngine.XR.MagicLeap/MLWebRTC/AppDefinedVideoSource/UnityEngine.XR.MagicLeap.MLWebRTC.AppDefinedVideoSource.md),<br></br>[AppDefinedSource](/versioned_docs/version-03-Jan-2023/unity-api/api/UnityEngine.XR.MagicLeap/MLWebRTC/AppDefinedSource/UnityEngine.XR.MagicLeap.MLWebRTC.AppDefinedSource.md),<br></br>[Track](/versioned_docs/version-03-Jan-2023/unity-api/api/UnityEngine.XR.MagicLeap/MLWebRTC/MediaStream/UnityEngine.XR.MagicLeap.MLWebRTC.MediaStream.Track.md)




## Public Methods

### delegate void CaptureStatusChangedDelegate {#delegate-void-capturestatuschangeddelegate}

```csharp
public delegate void CaptureStatusChangedDelegate(
    bool isDestroying
)
```


**Parameters**

| Type | Name  | Description  | 
|--|--|--|
| bool |isDestroying||






-----------

### [MLCameraVideoSource](/versioned_docs/version-03-Jan-2023/unity-api/api/UnityEngine.XR.MagicLeap/MLWebRTC/UnityEngine.XR.MagicLeap.MLWebRTC.MLCameraVideoSource.md) CreateLocal {#mlcameravideosource-createlocal}

Developer should've created the [MLCamera](/versioned_docs/version-03-Jan-2023/unity-api/api/UnityEngine.XR.MagicLeap/MLCamera/UnityEngine.XR.MagicLeap.MLCamera.md) object, queried the stream capabilities, selected one & populated a [MLCamera.CaptureConfig](/versioned_docs/version-03-Jan-2023/unity-api/api/UnityEngine.XR.MagicLeap/MLCamera/UnityEngine.XR.MagicLeap.MLCamera.CaptureConfig.md) object with it. Developers are NOT required to setup any native surface in the capture config. The CaptureConfig should contain at a minimum a StreamConfig with CaptureType Video in the first array position, and optionally a second StreamConfig with CaptureType Preview if the call app wishes to display camera preview. Developer should NOT have called [MLCamera.PrepareCapture()](/versioned_docs/version-03-Jan-2023/unity-api/api/UnityEngine.XR.MagicLeap/MLCamera/UnityEngine.XR.MagicLeap.MLCamera.md#mlresult-preparecapture) or any other capture functions on the camera object. 

```csharp
public static MLCameraVideoSource CreateLocal(
    MLCamera camera,
    MLCamera.CaptureConfig captureConfig,
    out MLResult result,
    string trackId ="",
    Renderer localRenderer =null,
    bool nativeBuffers =true
)
```


**Parameters**

| Type | Name  | Description  | 
|--|--|--|
| [MLCamera](/versioned_docs/version-03-Jan-2023/unity-api/api/UnityEngine.XR.MagicLeap/MLCamera/UnityEngine.XR.MagicLeap.MLCamera.md) |camera|The [MLCamera](/versioned_docs/version-03-Jan-2023/unity-api/api/UnityEngine.XR.MagicLeap/MLCamera/UnityEngine.XR.MagicLeap.MLCamera.md) used to provide the video source for the Track.|
| [MLCamera.CaptureConfig](/versioned_docs/version-03-Jan-2023/unity-api/api/UnityEngine.XR.MagicLeap/MLCamera/UnityEngine.XR.MagicLeap.MLCamera.CaptureConfig.md) |captureConfig|The CaptureConfig should be configured prior to calling. The StreamConfigs array must contain a StreamConfig with CaptureType Video at index 0 and optionally a second with CaptureType Preview to enable rendering the [MLCamera.PreviewTexture](/versioned_docs/version-03-Jan-2023/unity-api/api/UnityEngine.XR.MagicLeap/MLCamera/UnityEngine.XR.MagicLeap.MLCamera.md#rendertexture-previewtexture)|
| out [MLResult](/versioned_docs/version-03-Jan-2023/unity-api/api/UnityEngine.XR.MagicLeap/UnityEngine.XR.MagicLeap.MLResult.md) |result|The [MLResult](/versioned_docs/version-03-Jan-2023/unity-api/api/UnityEngine.XR.MagicLeap/UnityEngine.XR.MagicLeap.MLResult.md) generated by attempting to initialize this [AppDefinedVideoSource](/versioned_docs/version-03-Jan-2023/unity-api/api/UnityEngine.XR.MagicLeap/MLWebRTC/AppDefinedVideoSource/UnityEngine.XR.MagicLeap.MLWebRTC.AppDefinedVideoSource.md).|
| string |trackId|An optional track ID|
| Renderer |localRenderer|Optional Unity Renderer component configured in the scene to display the [MLCamera.PreviewTexture](/versioned_docs/version-03-Jan-2023/unity-api/api/UnityEngine.XR.MagicLeap/MLCamera/UnityEngine.XR.MagicLeap.MLCamera.md#rendertexture-previewtexture).|
| bool |nativeBuffers||






**Returns**: 



-----------

## Protected Methods

### OnApplicationPause {#override-void-onapplicationpause}

Reacts to when the application is paused (after subscribing to [MLDevice](/versioned_docs/version-03-Jan-2023/unity-api/api/UnityEngine.XR.MagicLeap/UnityEngine.XR.MagicLeap.MLDevice.md)). Override for custom behavior. 

```csharp
protected virtual override void OnApplicationPause(
    bool pause
)
```


**Parameters**

| Type | Name  | Description  | 
|--|--|--|
| bool |pause|True if paused.|




**Reimplements**: [OnApplicationPause](/versioned_docs/version-03-Jan-2023/unity-api/api/UnityEngine.XR.MagicLeap/MLWebRTC/MediaStream/UnityEngine.XR.MagicLeap.MLWebRTC.MediaStream.Track.md#void-onapplicationpause)



-----------

### OnSourceDestroy {#override-void-onsourcedestroy}

Instance method that is called when the source is destroyed via  [MLWebRTC.MediaStream.Track.DestroyLocal()](/versioned_docs/version-03-Jan-2023/unity-api/api/UnityEngine.XR.MagicLeap/MLWebRTC/MediaStream/UnityEngine.XR.MagicLeap.MLWebRTC.MediaStream.Track.md#mlresult-destroylocal) . 

```csharp
protected virtual override void OnSourceDestroy()
```




**Reimplements**: [OnSourceDestroy](/versioned_docs/version-03-Jan-2023/unity-api/api/UnityEngine.XR.MagicLeap/MLWebRTC/AppDefinedSource/UnityEngine.XR.MagicLeap.MLWebRTC.AppDefinedSource.md#abstract-void-onsourcedestroy)



-----------

### OnSourceSetEnabled {#override-void-onsourcesetenabled}

Instance method that is called when the source is enabled or disabled via  [MLWebRTC.MediaStream.Track.SetEnabled()](/versioned_docs/version-03-Jan-2023/unity-api/api/UnityEngine.XR.MagicLeap/MLWebRTC/MediaStream/UnityEngine.XR.MagicLeap.MLWebRTC.MediaStream.Track.md#mlresult-setenabled) 

```csharp
protected virtual override void OnSourceSetEnabled(
    bool enabled
)
```


**Parameters**

| Type | Name  | Description  | 
|--|--|--|
| bool |enabled|True if enabled.|




**Reimplements**: [OnSourceSetEnabled](/versioned_docs/version-03-Jan-2023/unity-api/api/UnityEngine.XR.MagicLeap/MLWebRTC/AppDefinedSource/UnityEngine.XR.MagicLeap.MLWebRTC.AppDefinedSource.md#abstract-void-onsourcesetenabled)



-----------

## Public Attributes

### IsCapturing {#bool-iscapturing}

```csharp

public bool IsCapturing => isCapturing;

```






-----------

## Public Events

### OnCaptureStatusChanged {#capturestatuschangeddelegate-oncapturestatuschanged}

```csharp
public CaptureStatusChangedDelegate OnCaptureStatusChanged()
```






-----------

