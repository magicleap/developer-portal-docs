---
title: ml_media_player.h

---

# ml_media_player.h



## Classes

|                | Name           |
| -------------- | -------------- |
| struct | **[MLMediaPlayerTrackDRMInfo](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_track_d_r_m_info.md)** <br></br>MediaPlayer DRM Info for a Media Track.  |
| struct | **[MLMediaPlayerSubtitleData](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_subtitle_data.md)**  |
| struct | **[MLMediaPlayerBufferingSettings](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_buffering_settings.md)**  |
| struct | **[MLMediaPlayerOnBufferingUpdateInfo](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_on_buffering_update_info.md)** <br></br>MediaPlayer Buffering update callback Info.  |
| struct | **[MLMediaPlayerOnCompletionInfo](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_on_completion_info.md)** <br></br>MediaPlayer Playback completion callback Info.  |
| struct | **[MLMediaPlayerOnErrorInfo](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_on_error_info.md)** <br></br>MediaPlayer Error callback Info.  |
| struct | **[MLMediaPlayerOnInfoInfo](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_on_info_info.md)** <br></br>MediaPlayer Information callback Info.  |
| struct | **[MLMediaPlayerOnPreparedInfo](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_on_prepared_info.md)** <br></br>MediaPlayer Playback prepared callback Info.  |
| struct | **[MLMediaPlayerOnSeekCompleteInfo](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_on_seek_complete_info.md)** <br></br>MediaPlayer Playback seek completion callback Info.  |
| struct | **[MLMediaPlayerOnVideoSizeChangedInfo](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_on_video_size_changed_info.md)** <br></br>MediaPlayer Video Size Changed callback Info.  |
| struct | **[MLMediaPlayerOnTrackDRMInfo](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_on_track_d_r_m_info.md)** <br></br>MediaPlayer Track DRM Info callback Info.  |
| struct | **[MLMediaPlayerOnResetCompleteInfo](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_on_reset_complete_info.md)** <br></br>MediaPlayer reset completion callback Info.  |
| struct | **[MLMediaPlayerOnFramePackingInfo](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_on_frame_packing_info.md)** <br></br>MediaPlayer frame packing callback Info.  |
| struct | **[MLMediaPlayerEventCallbacksEx](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_event_callbacks_ex.md)** <br></br>Callbacks for notifying client about [Media Player](/api-ref/api/Modules/group___media_player/group___media_player.md) error events.  |
| struct | **[MLMediaPlayerTrackInfo](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_track_info.md)** <br></br>MediaPlayer Track Information.  |
| struct | **[MLMediaPlayerTrackDRMSessionInfo](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_track_d_r_m_session_info.md)** <br></br>DRM Session information for a MediaPlayer Track.  |
| struct | **[MLMediaPlayerMetrics](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_metrics.md)** <br></br>MediaPlayer metrics data.  |

## Types

|                | Name           |
| -------------- | -------------- |
| typedef [MLPSSHEntry](/api-ref/api/Modules/group___media_player/struct_m_l_p_s_s_h_entry.md) | **[MLMediaPlayerPSSHEntry](/api-ref/api/Modules/group___media_player/group___media_player.md#mlpsshentry-mlmediaplayerpsshentry)**  |
| typedef struct [MLMediaPlayerTrackDRMInfo](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_track_d_r_m_info.md) | **[MLMediaPlayerTrackDRMInfo](/api-ref/api/Modules/group___media_player/group___media_player.md#struct-mlmediaplayertrackdrminfo)** <br></br>MediaPlayer DRM Info for a Media Track.  |
| typedef struct [MLMediaPlayerSubtitleData](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_subtitle_data.md) | **[MLMediaPlayerSubtitleData](/api-ref/api/Modules/group___media_player/group___media_player.md#struct-mlmediaplayersubtitledata)**  |
| typedef struct [MLMediaPlayerBufferingSettings](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_buffering_settings.md) | **[MLMediaPlayerBufferingSettings](/api-ref/api/Modules/group___media_player/group___media_player.md#struct-mlmediaplayerbufferingsettings)**  |
| typedef struct [MLMediaPlayerOnBufferingUpdateInfo](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_on_buffering_update_info.md) | **[MLMediaPlayerOnBufferingUpdateInfo](/api-ref/api/Modules/group___media_player/group___media_player.md#struct-mlmediaplayeronbufferingupdateinfo)** <br></br>MediaPlayer Buffering update callback Info.  |
| typedef struct [MLMediaPlayerOnCompletionInfo](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_on_completion_info.md) | **[MLMediaPlayerOnCompletionInfo](/api-ref/api/Modules/group___media_player/group___media_player.md#struct-mlmediaplayeroncompletioninfo)** <br></br>MediaPlayer Playback completion callback Info.  |
| typedef struct [MLMediaPlayerOnErrorInfo](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_on_error_info.md) | **[MLMediaPlayerOnErrorInfo](/api-ref/api/Modules/group___media_player/group___media_player.md#struct-mlmediaplayeronerrorinfo)** <br></br>MediaPlayer Error callback Info.  |
| typedef struct [MLMediaPlayerOnInfoInfo](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_on_info_info.md) | **[MLMediaPlayerOnInfoInfo](/api-ref/api/Modules/group___media_player/group___media_player.md#struct-mlmediaplayeroninfoinfo)** <br></br>MediaPlayer Information callback Info.  |
| typedef struct [MLMediaPlayerOnPreparedInfo](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_on_prepared_info.md) | **[MLMediaPlayerOnPreparedInfo](/api-ref/api/Modules/group___media_player/group___media_player.md#struct-mlmediaplayeronpreparedinfo)** <br></br>MediaPlayer Playback prepared callback Info.  |
| typedef struct [MLMediaPlayerOnSeekCompleteInfo](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_on_seek_complete_info.md) | **[MLMediaPlayerOnSeekCompleteInfo](/api-ref/api/Modules/group___media_player/group___media_player.md#struct-mlmediaplayeronseekcompleteinfo)** <br></br>MediaPlayer Playback seek completion callback Info.  |
| typedef struct [MLMediaPlayerOnVideoSizeChangedInfo](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_on_video_size_changed_info.md) | **[MLMediaPlayerOnVideoSizeChangedInfo](/api-ref/api/Modules/group___media_player/group___media_player.md#struct-mlmediaplayeronvideosizechangedinfo)** <br></br>MediaPlayer Video Size Changed callback Info.  |
| typedef struct [MLMediaPlayerOnTrackDRMInfo](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_on_track_d_r_m_info.md) | **[MLMediaPlayerOnTrackDRMInfo](/api-ref/api/Modules/group___media_player/group___media_player.md#struct-mlmediaplayerontrackdrminfo)** <br></br>MediaPlayer Track DRM Info callback Info.  |
| typedef struct [MLMediaPlayerOnResetCompleteInfo](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_on_reset_complete_info.md) | **[MLMediaPlayerOnResetCompleteInfo](/api-ref/api/Modules/group___media_player/group___media_player.md#struct-mlmediaplayeronresetcompleteinfo)** <br></br>MediaPlayer reset completion callback Info.  |
| typedef struct [MLMediaPlayerOnFramePackingInfo](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_on_frame_packing_info.md) | **[MLMediaPlayerOnFramePackingInfo](/api-ref/api/Modules/group___media_player/group___media_player.md#struct-mlmediaplayeronframepackinginfo)** <br></br>MediaPlayer frame packing callback Info.  |
| typedef struct [MLMediaPlayerEventCallbacksEx](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_event_callbacks_ex.md) | **[MLMediaPlayerEventCallbacksEx](/api-ref/api/Modules/group___media_player/group___media_player.md#struct-mlmediaplayereventcallbacksex)** <br></br>Callbacks for notifying client about [Media Player](/api-ref/api/Modules/group___media_player/group___media_player.md) error events.  |
| typedef struct [MLMediaPlayerTrackInfo](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_track_info.md) | **[MLMediaPlayerTrackInfo](/api-ref/api/Modules/group___media_player/group___media_player.md#struct-mlmediaplayertrackinfo)** <br></br>MediaPlayer Track Information.  |
| typedef struct [MLMediaPlayerTrackDRMSessionInfo](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_track_d_r_m_session_info.md) | **[MLMediaPlayerTrackDRMSessionInfo](/api-ref/api/Modules/group___media_player/group___media_player.md#struct-mlmediaplayertrackdrmsessioninfo)** <br></br>DRM Session information for a MediaPlayer Track.  |
| typedef void(*)(MLHandle media_player, MLMediaPlayerSubtitleData subtitle_data, void *data) | **[MLMediaPlayerOnMediaSubtitleUpdateCallback](/api-ref/api/Modules/group___media_player/group___media_player.md#void-mlmediaplayeronmediasubtitleupdatecallback)** <br></br>Callbacks signature called when subtitle update is available.  |
| typedef void(*)(MLHandle media_player, MLHandle timed_text, void *data) | **[MLMediaPlayerOnMediaTimedTextUpdateCallback](/api-ref/api/Modules/group___media_player/group___media_player.md#void-mlmediaplayeronmediatimedtextupdatecallback)** <br></br>Callbacks signature called when Timed Text update is available.  |
| typedef struct [MLMediaPlayerMetrics](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_metrics.md) | **[MLMediaPlayerMetrics](/api-ref/api/Modules/group___media_player/group___media_player.md#struct-mlmediaplayermetrics)** <br></br>MediaPlayer metrics data.  |

## Enums

|                | Name           |
| -------------- | -------------- |
| enum | **[MLMediaPlayerVideoScalingMode](/api-ref/api/Modules/group___media_player/group___media_player.md#enums-mlmediaplayervideoscalingmode)** <br></br> { <br></br>[MLMediaPlayerVideoScalingMode_ScaleToFit](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaplayervideoscalingmode-scaletofit) = 1,<br></br> [MLMediaPlayerVideoScalingMode_ScaleToFitWithCropping](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaplayervideoscalingmode-scaletofitwithcropping) = 2,<br></br> [MLMediaPlayerVideoScalingMode_Ensure32Bits](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaplayervideoscalingmode-ensure32bits) = 0x7FFFFFFF<br></br>} |
| enum | **[MLMediaPlayerPollingStateFlags](/api-ref/api/Modules/group___media_player/group___media_player.md#enums-mlmediaplayerpollingstateflags)** <br></br> { <br></br>[MLMediaPlayerPollingStateFlag_IsPlaying](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaplayerpollingstateflag-isplaying) = 1 << 0,<br></br> [MLMediaPlayerPollingStateFlag_IsLooping](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaplayerpollingstateflag-islooping) = 1 << 1,<br></br> [MLMediaPlayerPollingStateFlag_HasBeenPrepared](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaplayerpollingstateflag-hasbeenprepared) = 1 << 2,<br></br> [MLMediaPlayerPollingStateFlag_HasPlaybackCompleted](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaplayerpollingstateflag-hasplaybackcompleted) = 1 << 3,<br></br> [MLMediaPlayerPollingStateFlag_HasSeekCompleted](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaplayerpollingstateflag-hasseekcompleted) = 1 << 4,<br></br> [MLMediaPlayerPollingStateFlag_HasSizeChanged](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaplayerpollingstateflag-hassizechanged) = 1 << 5,<br></br> [MLMediaPlayerPollingStateFlag_HasBufferingUpdated](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaplayerpollingstateflag-hasbufferingupdated) = 1 << 6,<br></br> [MLMediaPlayerPollingStateFlag_HasReceivedInfo](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaplayerpollingstateflag-hasreceivedinfo) = 1 << 7,<br></br> [MLMediaPlayerPollingStateFlag_HasReceivedError](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaplayerpollingstateflag-hasreceivederror) = 1 << 8,<br></br> [MLMediaPlayerPollingStateFlag_HasTimedTextUpdated](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaplayerpollingstateflag-hastimedtextupdated) = 1 << 9,<br></br> [MLMediaPlayerPollingStateFlag_HasSubtitleUpdated](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaplayerpollingstateflag-hassubtitleupdated) = 1 << 10,<br></br> [MLMediaPlayerPollingStateFlag_HasMetadataUpdated](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaplayerpollingstateflag-hasmetadataupdated) = 1 << 11,<br></br> [MLMediaPlayerPollingStateFlag_HasDrmInfoUpdated](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaplayerpollingstateflag-hasdrminfoupdated) = 1 << 12,<br></br> [MLMediaPlayerPollingStateFlag_HasResetCompleted](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaplayerpollingstateflag-hasresetcompleted) = 1 << 13,<br></br> [MLMediaPlayerPollingStateFlag_Ensure32Bits](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaplayerpollingstateflag-ensure32bits) = 0x7FFFFFFF<br></br>} |
| enum | **[MLMediaPlayerInfo](/api-ref/api/Modules/group___media_player/group___media_player.md#enums-mlmediaplayerinfo)** <br></br> { <br></br>[MLMediaPlayerInfo_Unknown](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaplayerinfo-unknown) = 1,<br></br> [MLMediaPlayerInfo_StartedAsNext](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaplayerinfo-startedasnext) = 2,<br></br> [MLMediaPlayerInfo_RenderingStart](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaplayerinfo-renderingstart) = 3,<br></br> [MLMediaPlayerInfo_Looping](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaplayerinfo-looping) = 4,<br></br> [MLMediaPlayerInfo_Started](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaplayerinfo-started) = 5,<br></br> [MLMediaPlayerInfo_Paused](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaplayerinfo-paused) = 6,<br></br> [MLMediaPlayerInfo_Stopped](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaplayerinfo-stopped) = 7,<br></br> [MLMediaPlayerInfo_StartedBySharedPlayer](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaplayerinfo-startedbysharedplayer) = 8,<br></br> [MLMediaPlayerInfo_PausedBySharedPlayer](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaplayerinfo-pausedbysharedplayer) = 9,<br></br> [MLMediaPlayerInfo_SeekBySharedPlayer](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaplayerinfo-seekbysharedplayer) = 10,<br></br> [MLMediaPlayerInfo_StoppedBySharedPlayer](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaplayerinfo-stoppedbysharedplayer) = 11,<br></br> [MLMediaPlayerInfo_SyncStart](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaplayerinfo-syncstart) = 12,<br></br> [MLMediaPlayerInfo_SyncComplete](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaplayerinfo-synccomplete) = 13,<br></br> [MLMediaPlayerInfo_VideoTrackLagging](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaplayerinfo-videotracklagging) = 700,<br></br> [MLMediaPlayerInfo_BufferingStart](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaplayerinfo-bufferingstart) = 701,<br></br> [MLMediaPlayerInfo_BufferingEnd](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaplayerinfo-bufferingend) = 702,<br></br> [MLMediaPlayerInfo_NetworkBandwidth](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaplayerinfo-networkbandwidth) = 703,<br></br> [MLMediaPlayerInfo_BehindLiveWindow](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaplayerinfo-behindlivewindow) = 704,<br></br> [MLMediaPlayerInfo_PowerStatePause](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaplayerinfo-powerstatepause) = 705,<br></br> [MLMediaPlayerInfo_PowerStateResume](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaplayerinfo-powerstateresume) = 706,<br></br> [MLMediaPlayerInfo_BufferedDuration](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaplayerinfo-bufferedduration) = 707,<br></br> [MLMediaPlayerInfo_BadInterleaving](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaplayerinfo-badinterleaving) = 800,<br></br> [MLMediaPlayerInfo_NotSeekable](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaplayerinfo-notseekable) = 801,<br></br> [MLMediaPlayerInfo_MetadataUpdate](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaplayerinfo-metadataupdate) = 802,<br></br> [MLMediaPlayerInfo_PlayAudioError](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaplayerinfo-playaudioerror) = 804,<br></br> [MLMediaPlayerInfo_PlayVideoError](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaplayerinfo-playvideoerror) = 805,<br></br> [MLMediaPlayerInfo_TimedTextError](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaplayerinfo-timedtexterror) = 900,<br></br> [MLMediaPlayerInfo_Ensure32Bits](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaplayerinfo-ensure32bits) = 0x7FFFFFFF<br></br>}<br></br>Info and warning codes for the media player framework.  |
| enum | **[MLMediaPlayerTrackType](/api-ref/api/Modules/group___media_player/group___media_player.md#enums-mlmediaplayertracktype)** <br></br> { <br></br>[MLMediaPlayerTrackType_Unknown](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaplayertracktype-unknown) = 0,<br></br> [MLMediaPlayerTrackType_Video](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaplayertracktype-video) = 1,<br></br> [MLMediaPlayerTrackType_Audio](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaplayertracktype-audio) = 2,<br></br> [MLMediaPlayerTrackType_TimedText](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaplayertracktype-timedtext) = 3,<br></br> [MLMediaPlayerTrackType_Subtitle](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaplayertracktype-subtitle) = 4,<br></br> [MLMediaPlayerTrackType_Metadata](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaplayertracktype-metadata) = 5,<br></br> [MLMediaPlayerTrackType_Ensure32Bits](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaplayertracktype-ensure32bits) = 0x7FFFFFFF<br></br>} |
| enum | **[MLMediaPlayerBufferingMode](/api-ref/api/Modules/group___media_player/group___media_player.md#enums-mlmediaplayerbufferingmode)** <br></br> { <br></br>[MLMediaPlayerBufferingMode_None](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaplayerbufferingmode-none) = 0,<br></br> [MLMediaPlayerBufferingMode_TimeOnly](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaplayerbufferingmode-timeonly) = 1,<br></br> [MLMediaPlayerBufferingMode_SizeOnly](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaplayerbufferingmode-sizeonly) = 2,<br></br> [MLMediaPlayerBufferingMode_TimeThenSize](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaplayerbufferingmode-timethensize) = 3,<br></br> [MLMediaPlayerBufferingMode_Count](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaplayerbufferingmode-count) = 4,<br></br> [MLMediaPlayerBufferingMode_Ensure32Bits](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaplayerbufferingmode-ensure32bits) = 0x7FFFFFFF<br></br>} |
| enum | **[MLMediaFramePackingMode](/api-ref/api/Modules/group___media_player/group___media_player.md#enums-mlmediaframepackingmode)** <br></br> { <br></br>[MLMediaFramePackingMode_None](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaframepackingmode-none) = 0,<br></br> [MLMediaFramePackingMode_Checkboard](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaframepackingmode-checkboard),<br></br> [MLMediaFramePackingMode_ColumnInterleaved](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaframepackingmode-columninterleaved),<br></br> [MLMediaFramePackingMode_RowInterleaved](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaframepackingmode-rowinterleaved),<br></br> [MLMediaFramePackingMode_SideBySideQuincunx](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaframepackingmode-sidebysidequincunx),<br></br> [MLMediaFramePackingMode_SideBySide](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaframepackingmode-sidebyside),<br></br> [MLMediaFramePackingMode_TopBottom](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaframepackingmode-topbottom),<br></br> [MLMediaFramePackingMode_MultiviewFrameByFrame](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaframepackingmode-multiviewframebyframe),<br></br> [MLMediaFramePackingMode_FrameByFrame](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaframepackingmode-framebyframe),<br></br> [MLMediaFramePackingMode_Anaglyph](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaframepackingmode-anaglyph)<br></br>}<br></br>Frame Packing Arrangement for stereoscopic videos.  |
| enum | **[MLMediaFramePackingFlags](/api-ref/api/Modules/group___media_player/group___media_player.md#enums-mlmediaframepackingflags)** <br></br> { <br></br>[MLMediaFramePackingFlags_None](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaframepackingflags-none) = 0,<br></br> [MLMediaFramePackingFlags_RightViewFirst](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaframepackingflags-rightviewfirst) = 1 << 0,<br></br> [MLMediaFramePackingFlags_LeftFlipped](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaframepackingflags-leftflipped) = 1 << 1,<br></br> [MLMediaFramePackingFlags_RightFlipped](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaframepackingflags-rightflipped) = 1 << 2,<br></br> [MLMediaFramePackingFlags_Anaglyph_RedCyan](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaframepackingflags-anaglyph-redcyan) = 1 << 3,<br></br> [MLMediaFramePackingFlags_Anaglyph_GreenMagenta](/api-ref/api/Files/ml__media__player_8h.md#enums-mlmediaframepackingflags-anaglyph-greenmagenta) = 1 << 4<br></br>}<br></br>Frame Packing Arrangement flags for stereoscopic videos.  |

## Functions

|                | Name           |
| -------------- | -------------- |
| void | **[MLMediaPlayerEventCallbacksExInit](/api-ref/api/Modules/group___media_player/group___media_player.md#void-mlmediaplayereventcallbacksexinit)**([MLMediaPlayerEventCallbacksEx](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_event_callbacks_ex.md) * inout_callbacks)<br></br>Initializes MediaPlayerEventCallbacks with default values.  |
| void | **[MLMediaPlayerTrackInfoInit](/api-ref/api/Modules/group___media_player/group___media_player.md#void-mlmediaplayertrackinfoinit)**([MLMediaPlayerTrackInfo](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_track_info.md) * inout_track_info)<br></br>Initializes Media Track Information with default values.  |
| void | **[MLMediaPlayerTrackDRMSessionInfoInit](/api-ref/api/Modules/group___media_player/group___media_player.md#void-mlmediaplayertrackdrmsessioninfoinit)**([MLMediaPlayerTrackDRMSessionInfo](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_track_d_r_m_session_info.md) * inout_drm_session_info)<br></br>Initializes Media Track DRM Session Information with defult values.  |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) | **[MLMediaPlayerCreate](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayercreate)**([MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) * out_handle)<br></br>Create a new [Media Player](/api-ref/api/Modules/group___media_player/group___media_player.md) object.  |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) | **[MLMediaPlayerDestroy](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayerdestroy)**([MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) media_player)<br></br>Destroys a MediaPlayer object.  |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) | **[MLMediaPlayerSetDataSourceForFD](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayersetdatasourceforfd)**([MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) media_player, int32_t fd)<br></br>Sets a file descriptor as the data source.  |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) | **[MLMediaPlayerSetOffsetDataSourceForFD](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayersetoffsetdatasourceforfd)**([MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) media_player, int32_t fd, int64_t offset, int64_t length)<br></br>Sets a file descriptor as the data source with offset.  |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) | **[MLMediaPlayerSetDataSourceForPath](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayersetdatasourceforpath)**([MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) media_player, const char * path)<br></br>Sets a local file path as the data source.  |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) | **[MLMediaPlayerSetDataSourceForURI](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayersetdatasourceforuri)**([MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) media_player, const char * uri)<br></br>Sets a URI string as the data source.  |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) | **[MLMediaPlayerSetRemoteDataSourceForURI](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayersetremotedatasourceforuri)**([MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) media_player, const char * uri, char ** headers, size_t len)<br></br>Sets a URI string as the remote data source.  |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) | **[MLMediaPlayerSetMediaDataSource](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayersetmediadatasource)**([MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) media_player, [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) media_data_source)<br></br>Sets the data source to use.  |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) | **[MLMediaPlayerSetMediaStreamSource](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayersetmediastreamsource)**([MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) media_player, [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) media_stream_source)<br></br>Sets the data source to use.  |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) | **[MLMediaPlayerAddTimedTextSourceForURI](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayeraddtimedtextsourceforuri)**([MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) media_player, const char * uri, const char * mime_type)<br></br>Adds a TimedText source from a URI.  |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) | **[MLMediaPlayerAddTimedTextSourceForFD](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayeraddtimedtextsourceforfd)**([MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) media_player, int32_t fd, int64_t offset, int64_t length, const char * mime_type)<br></br>Adds a TimedText source from a file descriptor.  |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) | **[MLMediaPlayerSetNextPlayer](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayersetnextplayer)**([MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) media_player, [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) next_media_player)<br></br>Sets the 'next' [Media Player](/api-ref/api/Modules/group___media_player/group___media_player.md) to automatically 'start' when current [Media Player](/api-ref/api/Modules/group___media_player/group___media_player.md) playback completes.  |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) | **[MLMediaPlayerGetTrackCount](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayergettrackcount)**([MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) media_player, uint32_t * out_track_count)<br></br>Counts the number of tracks found in the data source.  |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) | **[MLMediaPlayerGetTrackType](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayergettracktype)**([MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) media_player, uint32_t track, [MLMediaPlayerTrackType](/api-ref/api/Modules/group___media_player/group___media_player.md#enums-mlmediaplayertracktype) * out_track_type)<br></br>Gets the type of a track.  |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) | **[MLMediaPlayerGetTrackLanguage](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayergettracklanguage)**([MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) media_player, uint32_t track, char ** out_track_language)<br></br>Gets the language of a track.  |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) | **[MLMediaPlayerGetTrackMediaFormat](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayergettrackmediaformat)**([MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) media_player, uint32_t track, [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) * out_media_format)<br></br>Gets the Media Format of a track.  |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) | **[MLMediaPlayerSelectTrack](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayerselecttrack)**([MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) media_player, uint32_t track)<br></br>Selects a track.  |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) | **[MLMediaPlayerUnselectTrack](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayerunselecttrack)**([MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) media_player, uint32_t track)<br></br>Unselects a track.  |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) | **[MLMediaPlayerPrepare](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayerprepare)**([MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) media_player)<br></br>Prepares the player for playback, synchronously.  |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) | **[MLMediaPlayerPrepareAsync](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayerprepareasync)**([MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) media_player)<br></br>Prepares the player for playback, asynchronously.  |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) | **[MLMediaPlayerStart](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayerstart)**([MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) media_player)<br></br>Starts or resumes playback.  |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) | **[MLMediaPlayerStop](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayerstop)**([MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) media_player)<br></br>Stops playback after playback has been started or paused.  |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) | **[MLMediaPlayerPause](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayerpause)**([MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) media_player)<br></br>Pauses playback.  |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) | **[MLMediaPlayerReset](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayerreset)**([MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) media_player)<br></br>Resets the [Media Player](/api-ref/api/Modules/group___media_player/group___media_player.md) to its uninitialized state.  |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) | **[MLMediaPlayerSeekTo](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayerseekto)**([MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) media_player, int msec, [MLMediaSeekMode](/api-ref/api/Modules/group___media_player/group___media_player.md#enums-mlmediaseekmode) mode)<br></br>Seeks to specified time position.  |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) | **[MLMediaPlayerSetEventCallbacksEx](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayerseteventcallbacksex)**([MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) media_player, const [MLMediaPlayerEventCallbacksEx](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_event_callbacks_ex.md) * callbacks, void * data)<br></br>Sets callbacks to notify clients about player events.  |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) | **[MLMediaPlayerGetVideoSize](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayergetvideosize)**([MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) media_player, int32_t * out_width, int32_t * out_height)<br></br>Returns the size of the video frame.  |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) | **[MLMediaPlayerGetCurrentPosition](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayergetcurrentposition)**([MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) media_player, int32_t * out_msec)<br></br>Returns current position of playback.  |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) | **[MLMediaPlayerGetDuration](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayergetduration)**([MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) media_player, int32_t * out_msec)<br></br>Returns media duration.  |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) | **[MLMediaPlayerGetBufferingUpdate](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayergetbufferingupdate)**([MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) media_player, int32_t * out_percentage)<br></br>Returns current buffering percentage.  |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) | **[MLMediaPlayerGetInfo](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayergetinfo)**([MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) media_player, int32_t * out_code, int32_t * out_extra)<br></br>Returns last info received by internal [Media Player](/api-ref/api/Modules/group___media_player/group___media_player.md).  |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) | **[MLMediaPlayerGetError](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayergeterror)**([MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) media_player, [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) * out_result)<br></br>Returns last error received by internal [Media Player](/api-ref/api/Modules/group___media_player/group___media_player.md).  |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) | **[MLMediaPlayerGetTimedText](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayergettimedtext)**([MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) media_player, const char ** out_text, int32_t * out_start, int32_t * out_end)<br></br>Returns last timed text event information.  |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) | **[MLMediaPlayerGetSubtitleEx](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayergetsubtitleex)**([MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) media_player, [MLMediaPlayerSubtitleData](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_subtitle_data.md) ** out_subtitle_data)<br></br>Returns last subtitle event information.  |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) | **[MLMediaPlayerReleaseSubtitleEx](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayerreleasesubtitleex)**([MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) media_player)<br></br>Releases last subtitle event information.  |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) | **[MLMediaPlayerSetOnMediaSubtitleUpdateCallback](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayersetonmediasubtitleupdatecallback)**([MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) media_player, [MLMediaPlayerOnMediaSubtitleUpdateCallback](/api-ref/api/Modules/group___media_player/group___media_player.md#void-mlmediaplayeronmediasubtitleupdatecallback) on_media_subtitle_callback, void * data)<br></br>Sets callback to get notified when a subtitle update is available along with its data.  |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) | **[MLMediaPlayerGetMetadata](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayergetmetadata)**([MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) media_player, int64_t * out_time, int32_t * out_size, uint8_t ** out_buffer)<br></br>Returns last metadata event information.  |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) | **[MLMediaPlayerSetVideoScalingMode](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayersetvideoscalingmode)**([MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) media_player, [MLMediaPlayerVideoScalingMode](/api-ref/api/Modules/group___media_player/group___media_player.md#enums-mlmediaplayervideoscalingmode) mode)<br></br>Sets video scaling mode.  |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) | **[MLMediaPlayerSetLooping](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayersetlooping)**([MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) media_player, bool loop)<br></br>Sets the looping mode of the player.  |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) | **[MLMediaPlayerSetVolume](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayersetvolume)**([MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) media_player, float volume)<br></br>Sets the volume on this player.  |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) | **[MLMediaPlayerGetAudioHandle](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayergetaudiohandle)**([MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) media_player, [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) * out_handle)<br></br>Gets the handle of the audio stream.  |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) | **[MLMediaPlayerPollStates](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayerpollstates)**([MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) media_player, uint16_t mask, uint16_t * out_polled_states)<br></br>Polls the desired states from internal [Media Player](/api-ref/api/Modules/group___media_player/group___media_player.md).  |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) | **[MLMediaPlayerGetTrackDRMInfo](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayergettrackdrminfo)**([MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) media_player, const [MLMediaPlayerTrackInfo](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_track_info.md) * track_info, [MLMediaPlayerTrackDRMInfo](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_track_d_r_m_info.md) ** out_drm_info)<br></br>Gets the DRM info of the selected media (either audio or video) track.  |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) | **[MLMediaPlayerPrepareTrackDRM](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayerpreparetrackdrm)**([MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) media_player, const [MLMediaPlayerTrackDRMSessionInfo](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_track_d_r_m_session_info.md) * drm_session_info)<br></br>Prepares DRM for the selected media (either audio or video) track.  |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) | **[MLMediaPlayerReleaseDRM](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayerreleasedrm)**([MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) media_player)<br></br>Releases DRM.  |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) | **[MLMediaPlayerGetDefaultBufferingSettings](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayergetdefaultbufferingsettings)**([MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) media_player, [MLMediaPlayerBufferingSettings](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_buffering_settings.md) * out_buf_settings)<br></br>Gets default Buffering settings.  |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) | **[MLMediaPlayerGetBufferingSettings](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayergetbufferingsettings)**([MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) media_player, [MLMediaPlayerBufferingSettings](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_buffering_settings.md) * out_buf_settings)<br></br>Gets current Buffering settings.  |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) | **[MLMediaPlayerSetBufferingSettings](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayersetbufferingsettings)**([MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) media_player, [MLMediaPlayerBufferingSettings](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_buffering_settings.md) buf_settings)<br></br>Sets buffering settings.  |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) | **[MLMediaPlayerSetOnMediaTimedTextUpdateCallback](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayersetonmediatimedtextupdatecallback)**([MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) media_player, [MLMediaPlayerOnMediaTimedTextUpdateCallback](/api-ref/api/Modules/group___media_player/group___media_player.md#void-mlmediaplayeronmediatimedtextupdatecallback) on_media_timed_text_callback, void * data)<br></br>Set callback to get invoked when a Timed Text update is available along with its data.  |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) | **[MLMediaPlayerGetWebVTTData](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayergetwebvttdata)**([MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) media_player, [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) timed_text, [MLWebVTTData](/api-ref/api/Modules/group___media_player/struct_m_l_web_v_t_t_data.md) ** out_webvtt_data)<br></br>Gets WebVTT data represented by a timed text handle.  |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) | **[MLMediaPlayerGetTTMLData](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayergetttmldata)**([MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) media_player, [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) timed_text, [MLTTMLData](/api-ref/api/Modules/group___media_player/struct_m_l_t_t_m_l_data.md) ** out_ttml_data)<br></br>Gets TTML data represented by a timed text handle.  |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) | **[MLMediaPlayerResetAsync](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayerresetasync)**([MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) media_player)<br></br>Resets the [Media Player](/api-ref/api/Modules/group___media_player/group___media_player.md) to its uninitialized state asynchronously.  |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) | **[MLMediaPlayerGetMetrics](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayergetmetrics)**([MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) media_player, [MLMediaPlayerMetrics](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_metrics.md) * out_metrics)<br></br>Retrieves metrics recorded on the MediaPlayer.  |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) | **[MLMediaPlayerSetSurface](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayersetsurface)**([MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) media_player, [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) surface)<br></br>Sets the Native surface to be used as the sink for displaying the video portion of the media.  |

## Enums Documentation

### MLMediaPlayerVideoScalingMode {#enums-mlmediaplayervideoscalingmode}

| Enumerator | Value | Description |
| ---------- | ----- | ----------- |
| MLMediaPlayerVideoScalingMode_ScaleToFit |  1| |
| MLMediaPlayerVideoScalingMode_ScaleToFitWithCropping |  2| |
| MLMediaPlayerVideoScalingMode_Ensure32Bits |  0x7FFFFFFF| Ensure enum is represented as 32 bits. |




Codes for setting video scaling mode. 





-----------

### MLMediaPlayerPollingStateFlags {#enums-mlmediaplayerpollingstateflags}

| Enumerator | Value | Description |
| ---------- | ----- | ----------- |
| MLMediaPlayerPollingStateFlag_IsPlaying |  1 << 0| Playing. |
| MLMediaPlayerPollingStateFlag_IsLooping |  1 << 1| Looping. |
| MLMediaPlayerPollingStateFlag_HasBeenPrepared |  1 << 2| Prepared. |
| MLMediaPlayerPollingStateFlag_HasPlaybackCompleted |  1 << 3| Playback completed. |
| MLMediaPlayerPollingStateFlag_HasSeekCompleted |  1 << 4| Seek completed. |
| MLMediaPlayerPollingStateFlag_HasSizeChanged |  1 << 5| Size changed. |
| MLMediaPlayerPollingStateFlag_HasBufferingUpdated |  1 << 6| Buffering updated. |
| MLMediaPlayerPollingStateFlag_HasReceivedInfo |  1 << 7| Received info. |
| MLMediaPlayerPollingStateFlag_HasReceivedError |  1 << 8| Received error. |
| MLMediaPlayerPollingStateFlag_HasTimedTextUpdated |  1 << 9| Timed text updated. |
| MLMediaPlayerPollingStateFlag_HasSubtitleUpdated |  1 << 10| Subtitle updated. |
| MLMediaPlayerPollingStateFlag_HasMetadataUpdated |  1 << 11| Metadata updated. |
| MLMediaPlayerPollingStateFlag_HasDrmInfoUpdated |  1 << 12| DRM info updated. |
| MLMediaPlayerPollingStateFlag_HasResetCompleted |  1 << 13| Async Reset completed. |
| MLMediaPlayerPollingStateFlag_Ensure32Bits |  0x7FFFFFFF| Ensure enum is represented as 32 bits. |




The state to be polled. 





-----------

### MLMediaPlayerInfo {#enums-mlmediaplayerinfo}

| Enumerator | Value | Description |
| ---------- | ----- | ----------- |
| MLMediaPlayerInfo_Unknown |  1| Unknown. |
| MLMediaPlayerInfo_StartedAsNext |  2| The player was started because it was used as the next player. |
| MLMediaPlayerInfo_RenderingStart |  3| The player just pushed the very first video frame for rendering. |
| MLMediaPlayerInfo_Looping |  4| The player just reached EOS and started from beginning (loop). |
| MLMediaPlayerInfo_Started |  5| The player acknowledgement that it has started playing. |
| MLMediaPlayerInfo_Paused |  6| The player acknowledgement that it has paused. |
| MLMediaPlayerInfo_Stopped |  7| The player acknowledgement that it has stopped playing. |
| MLMediaPlayerInfo_StartedBySharedPlayer |  8| The player acknowledgement that it has started playing as result of shared player's request. |
| MLMediaPlayerInfo_PausedBySharedPlayer |  9| The player acknowledgement that it has paused playing as result of shared player's request. |
| MLMediaPlayerInfo_SeekBySharedPlayer |  10| The player acknowledgement that it is seeking as result of shared player's request. |
| MLMediaPlayerInfo_StoppedBySharedPlayer |  11| The player acknowledgement that it has stopped playing as result of shared player's request. |
| MLMediaPlayerInfo_SyncStart |  12| The player has started sync'ing with other shared players. |
| MLMediaPlayerInfo_SyncComplete |  13| The player has completed sync'ing with other shared players. |
| MLMediaPlayerInfo_VideoTrackLagging |  700| The video is too complex for the decoder, it can't decode frames fast enough. |
| MLMediaPlayerInfo_BufferingStart |  701| Media player is temporarily pausing playback. |
| MLMediaPlayerInfo_BufferingEnd |  702| Media player is resuming playback after filling buffers. |
| MLMediaPlayerInfo_NetworkBandwidth |  703| Network bandwidth info. |
| MLMediaPlayerInfo_BehindLiveWindow |  704| Dash Live stream is Behind Live Window. |
| MLMediaPlayerInfo_PowerStatePause |  705| Playback Paused because of Power State Transition. |
| MLMediaPlayerInfo_PowerStateResume |  706| Playback Resumed because of Power State Transition. |
| MLMediaPlayerInfo_BufferedDuration |  707| Duration in milliseconds of buffered content. |
| MLMediaPlayerInfo_BadInterleaving |  800| Bad interleaving means that a media has been improperly interleaved. |
| MLMediaPlayerInfo_NotSeekable |  801| The media is not seekable (e.g live stream). |
| MLMediaPlayerInfo_MetadataUpdate |  802| New media metadata is available. |
| MLMediaPlayerInfo_PlayAudioError |  804| Audio can not be played. |
| MLMediaPlayerInfo_PlayVideoError |  805| Video can not be played. |
| MLMediaPlayerInfo_TimedTextError |  900| Media timed text error. |
| MLMediaPlayerInfo_Ensure32Bits |  0x7FFFFFFF| Ensure enum is represented as 32 bits. |



Info and warning codes for the media player framework. 

These are non fatal, the playback is going on but there might be some user visible issues.

Info and warning messages are communicated back to the client using the on_info callback. In this situation, this method is invoked with the following:

Description of 'what' should be a value from the MLMediaPlayerInfo. Description of 'extra' contains an implementation dependent info code to provide more details. Should default to 0 when not used. 





-----------

### MLMediaPlayerTrackType {#enums-mlmediaplayertracktype}

| Enumerator | Value | Description |
| ---------- | ----- | ----------- |
| MLMediaPlayerTrackType_Unknown |  0| Unknown. |
| MLMediaPlayerTrackType_Video |  1| Video. |
| MLMediaPlayerTrackType_Audio |  2| Audio. |
| MLMediaPlayerTrackType_TimedText |  3| Timed text. |
| MLMediaPlayerTrackType_Subtitle |  4| Subtitle. |
| MLMediaPlayerTrackType_Metadata |  5| Metadata. |
| MLMediaPlayerTrackType_Ensure32Bits |  0x7FFFFFFF| Ensure enum is represented as 32 bits. |




MediaTrack types returned by [MLMediaPlayerGetTrackType()](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayergettracktype). 





-----------

### MLMediaPlayerBufferingMode {#enums-mlmediaplayerbufferingmode}

| Enumerator | Value | Description |
| ---------- | ----- | ----------- |
| MLMediaPlayerBufferingMode_None |  0| Do not support buffering. |
| MLMediaPlayerBufferingMode_TimeOnly |  1| Support only time based buffering. |
| MLMediaPlayerBufferingMode_SizeOnly |  2| Support only size based buffering. |
| MLMediaPlayerBufferingMode_TimeThenSize |  3| Support both time and size based buffering, time based calculation precedes size based. Size based calculation will be used only when time information is not available for the stream. |
| MLMediaPlayerBufferingMode_Count |  4| Number of modes. |
| MLMediaPlayerBufferingMode_Ensure32Bits |  0x7FFFFFFF| Ensure enum size is 32 bits. |




Indicate the mode of buffering settings. 





-----------

### MLMediaFramePackingMode {#enums-mlmediaframepackingmode}

| Enumerator | Value | Description |
| ---------- | ----- | ----------- |
| MLMediaFramePackingMode_None |  0| Not a stereoscopic video. |
| MLMediaFramePackingMode_Checkboard | | Checkboard. |
| MLMediaFramePackingMode_ColumnInterleaved | | Column interleaved. |
| MLMediaFramePackingMode_RowInterleaved | | Row interleaved. |
| MLMediaFramePackingMode_SideBySideQuincunx | | Side by side quincunx. |
| MLMediaFramePackingMode_SideBySide | | Side by side. |
| MLMediaFramePackingMode_TopBottom | | Top bottom. |
| MLMediaFramePackingMode_MultiviewFrameByFrame | | Multiview frame by frame. |
| MLMediaFramePackingMode_FrameByFrame | | Frame by frame. |
| MLMediaFramePackingMode_Anaglyph | | Anaglyph. |



Frame Packing Arrangement for stereoscopic videos. 




**API Level:**
  * 8




-----------

### MLMediaFramePackingFlags {#enums-mlmediaframepackingflags}

| Enumerator | Value | Description |
| ---------- | ----- | ----------- |
| MLMediaFramePackingFlags_None |  0| No flags. |
| MLMediaFramePackingFlags_RightViewFirst |  1 << 0| Right view first. |
| MLMediaFramePackingFlags_LeftFlipped |  1 << 1| Left view flipped. |
| MLMediaFramePackingFlags_RightFlipped |  1 << 2| Right view flipped. |
| MLMediaFramePackingFlags_Anaglyph_RedCyan |  1 << 3| Anaglyph red/cyan. |
| MLMediaFramePackingFlags_Anaglyph_GreenMagenta |  1 << 4| Anaglyph green/magenta. |



Frame Packing Arrangement flags for stereoscopic videos. 




**API Level:**
  * 8




-----------


## Types Documentation

### MLMediaPlayerPSSHEntry {#mlpsshentry-mlmediaplayerpsshentry}

```cpp
typedef MLPSSHEntry MLMediaPlayerPSSHEntry;
```




[More Info](/api-ref/api/Modules/group___media_player/struct_m_l_p_s_s_h_entry.md)



-----------

### MLMediaPlayerTrackDRMInfo {#struct-mlmediaplayertrackdrminfo}

```cpp
typedef struct MLMediaPlayerTrackDRMInfo MLMediaPlayerTrackDRMInfo;
```

MediaPlayer DRM Info for a Media Track. 



[More Info](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_track_d_r_m_info.md)


**API Level:**
  * 2




-----------

### MLMediaPlayerSubtitleData {#struct-mlmediaplayersubtitledata}

```cpp
typedef struct MLMediaPlayerSubtitleData MLMediaPlayerSubtitleData;
```


MediaPlayer subtitle data. 



[More Info](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_subtitle_data.md)



-----------

### MLMediaPlayerBufferingSettings {#struct-mlmediaplayerbufferingsettings}

```cpp
typedef struct MLMediaPlayerBufferingSettings MLMediaPlayerBufferingSettings;
```


Indicate the buffering settings. 



[More Info](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_buffering_settings.md)



-----------

### MLMediaPlayerOnBufferingUpdateInfo {#struct-mlmediaplayeronbufferingupdateinfo}

```cpp
typedef struct MLMediaPlayerOnBufferingUpdateInfo MLMediaPlayerOnBufferingUpdateInfo;
```

MediaPlayer Buffering update callback Info. 



[More Info](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_on_buffering_update_info.md)


**API Level:**
  * 2




-----------

### MLMediaPlayerOnCompletionInfo {#struct-mlmediaplayeroncompletioninfo}

```cpp
typedef struct MLMediaPlayerOnCompletionInfo MLMediaPlayerOnCompletionInfo;
```

MediaPlayer Playback completion callback Info. 



[More Info](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_on_completion_info.md)


**API Level:**
  * 2




-----------

### MLMediaPlayerOnErrorInfo {#struct-mlmediaplayeronerrorinfo}

```cpp
typedef struct MLMediaPlayerOnErrorInfo MLMediaPlayerOnErrorInfo;
```

MediaPlayer Error callback Info. 



[More Info](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_on_error_info.md)


**API Level:**
  * 2




-----------

### MLMediaPlayerOnInfoInfo {#struct-mlmediaplayeroninfoinfo}

```cpp
typedef struct MLMediaPlayerOnInfoInfo MLMediaPlayerOnInfoInfo;
```

MediaPlayer Information callback Info. 



[More Info](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_on_info_info.md)


**API Level:**
  * 2




-----------

### MLMediaPlayerOnPreparedInfo {#struct-mlmediaplayeronpreparedinfo}

```cpp
typedef struct MLMediaPlayerOnPreparedInfo MLMediaPlayerOnPreparedInfo;
```

MediaPlayer Playback prepared callback Info. 



[More Info](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_on_prepared_info.md)


**API Level:**
  * 2




-----------

### MLMediaPlayerOnSeekCompleteInfo {#struct-mlmediaplayeronseekcompleteinfo}

```cpp
typedef struct MLMediaPlayerOnSeekCompleteInfo MLMediaPlayerOnSeekCompleteInfo;
```

MediaPlayer Playback seek completion callback Info. 



[More Info](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_on_seek_complete_info.md)


**API Level:**
  * 2




-----------

### MLMediaPlayerOnVideoSizeChangedInfo {#struct-mlmediaplayeronvideosizechangedinfo}

```cpp
typedef struct MLMediaPlayerOnVideoSizeChangedInfo MLMediaPlayerOnVideoSizeChangedInfo;
```

MediaPlayer Video Size Changed callback Info. 



[More Info](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_on_video_size_changed_info.md)


**API Level:**
  * 2




-----------

### MLMediaPlayerOnTrackDRMInfo {#struct-mlmediaplayerontrackdrminfo}

```cpp
typedef struct MLMediaPlayerOnTrackDRMInfo MLMediaPlayerOnTrackDRMInfo;
```

MediaPlayer Track DRM Info callback Info. 



[More Info](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_on_track_d_r_m_info.md)


**API Level:**
  * 2




-----------

### MLMediaPlayerOnResetCompleteInfo {#struct-mlmediaplayeronresetcompleteinfo}

```cpp
typedef struct MLMediaPlayerOnResetCompleteInfo MLMediaPlayerOnResetCompleteInfo;
```

MediaPlayer reset completion callback Info. 



[More Info](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_on_reset_complete_info.md)


**API Level:**
  * 8




-----------

### MLMediaPlayerOnFramePackingInfo {#struct-mlmediaplayeronframepackinginfo}

```cpp
typedef struct MLMediaPlayerOnFramePackingInfo MLMediaPlayerOnFramePackingInfo;
```

MediaPlayer frame packing callback Info. 



[More Info](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_on_frame_packing_info.md)


**API Level:**
  * 8




-----------

### MLMediaPlayerEventCallbacksEx {#struct-mlmediaplayereventcallbacksex}

```cpp
typedef struct MLMediaPlayerEventCallbacksEx MLMediaPlayerEventCallbacksEx;
```

Callbacks for notifying client about [Media Player](/api-ref/api/Modules/group___media_player/group___media_player.md) error events. 

Those are async mechanisms that should not be used in parallel with their sync counterpart, i.e. poll-based queries for the same events using MLMediaPlayerPollStatespoll().



[More Info](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_event_callbacks_ex.md)


**API Level:**
  * 8




-----------

### MLMediaPlayerTrackInfo {#struct-mlmediaplayertrackinfo}

```cpp
typedef struct MLMediaPlayerTrackInfo MLMediaPlayerTrackInfo;
```

MediaPlayer Track Information. 



[More Info](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_track_info.md)


**API Level:**
  * 2




-----------

### MLMediaPlayerTrackDRMSessionInfo {#struct-mlmediaplayertrackdrmsessioninfo}

```cpp
typedef struct MLMediaPlayerTrackDRMSessionInfo MLMediaPlayerTrackDRMSessionInfo;
```

DRM Session information for a MediaPlayer Track. 



[More Info](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_track_d_r_m_session_info.md)


**API Level:**
  * 2




-----------

### MLMediaPlayerOnMediaSubtitleUpdateCallback {#void-mlmediaplayeronmediasubtitleupdatecallback}

```cpp
typedef void(* MLMediaPlayerOnMediaSubtitleUpdateCallback) (MLHandle media_player, MLMediaPlayerSubtitleData subtitle_data, void *data);
```

Callbacks signature called when subtitle update is available. 

**Parameters**

|  |   |   |
|--|--|--|
|  |data|Custom data to be returned when callback is fired. |
|  |media_player|[MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) is a [Media Player](/api-ref/api/Modules/group___media_player/group___media_player.md) instance for which callback was called. |
|  |subtitle_data|[MLMediaPlayerSubtitleData](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_subtitle_data.md) is the raw subtitle data. |





-----------

### MLMediaPlayerOnMediaTimedTextUpdateCallback {#void-mlmediaplayeronmediatimedtextupdatecallback}

```cpp
typedef void(* MLMediaPlayerOnMediaTimedTextUpdateCallback) (MLHandle media_player, MLHandle timed_text, void *data);
```

Callbacks signature called when Timed Text update is available. 

**Parameters**

|  |   |   |
|--|--|--|
|  |media_player|[MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) is a [Media Player](/api-ref/api/Modules/group___media_player/group___media_player.md) instance for which callback was called. |
|  |timed_text|[MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) is the handle for timed_text data. |
|  |data|Custom data to be delivered when callback is invoked.|
**Required Permissions**:

  * None 






**API Level:**
  * 4




-----------

### MLMediaPlayerMetrics {#struct-mlmediaplayermetrics}

```cpp
typedef struct MLMediaPlayerMetrics MLMediaPlayerMetrics;
```

MediaPlayer metrics data. 



[More Info](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_metrics.md)


**API Level:**
  * 8




-----------


## Functions Documentation

### MLMediaPlayerEventCallbacksExInit {#void-mlmediaplayereventcallbacksexinit}

```cpp
static inline void MLMediaPlayerEventCallbacksExInit(
    MLMediaPlayerEventCallbacksEx * inout_callbacks
)
```

Initializes MediaPlayerEventCallbacks with default values. 

**Parameters**

|  |   |   |
|--|--|--|
| [MLMediaPlayerEventCallbacksEx](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_event_callbacks_ex.md) * |inout_callbacks|Media Player Callback structure defined by [MLMediaPlayerEventCallbacksEx](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_event_callbacks_ex.md) that needs to be initialized. |




-----------

### MLMediaPlayerTrackInfoInit {#void-mlmediaplayertrackinfoinit}

```cpp
static inline void MLMediaPlayerTrackInfoInit(
    MLMediaPlayerTrackInfo * inout_track_info
)
```

Initializes Media Track Information with default values. 

**Parameters**

|  |   |   |
|--|--|--|
| [MLMediaPlayerTrackInfo](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_track_info.md) * |inout_track_info|Media track information defined by [MLMediaPlayerTrackInfo](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_track_info.md) that needs to be initialized. |




-----------

### MLMediaPlayerTrackDRMSessionInfoInit {#void-mlmediaplayertrackdrmsessioninfoinit}

```cpp
static inline void MLMediaPlayerTrackDRMSessionInfoInit(
    MLMediaPlayerTrackDRMSessionInfo * inout_drm_session_info
)
```

Initializes Media Track DRM Session Information with defult values. 

**Parameters**

|  |   |   |
|--|--|--|
| [MLMediaPlayerTrackDRMSessionInfo](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_track_d_r_m_session_info.md) * |inout_drm_session_info|Media track DRM Session information defined by [MLMediaPlayerTrackDRMSessionInfo](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_track_d_r_m_session_info.md) that needs to be initialized. |




-----------

### MLMediaPlayerCreate {#mlresult-mlmediaplayercreate}

```cpp
MLResult MLMediaPlayerCreate(
    MLHandle * out_handle
)
```

Create a new [Media Player](/api-ref/api/Modules/group___media_player/group___media_player.md) object. 

**Parameters**

|  |   |   |
|--|--|--|
| [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) * |out_handle|The [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) to the new [Media Player](/api-ref/api/Modules/group___media_player/group___media_player.md) object created. Only valid if result is MLResult_Ok.|

**Returns**

|  |   |   |
|--|--|--|
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_InvalidParam|Failed due to an invalid parameter. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_Ok|Successfully created MediaPlayer. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_UnspecifiedFailure|Failed due to an unknown error. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_NoInit|Failed because MediaPlayer was not properly initialized.|
**Required Permissions**:

  * None 




:::note
This is a blocking sync method. As creating a MediaPlayer object might take some time, make sure to _not_ call this API from your main UI thread.
:::



-----------

### MLMediaPlayerDestroy {#mlresult-mlmediaplayerdestroy}

```cpp
MLResult MLMediaPlayerDestroy(
    MLHandle media_player
)
```

Destroys a MediaPlayer object. 

**Parameters**

|  |   |   |
|--|--|--|
| [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) |media_player|[MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) to the [Media Player](/api-ref/api/Modules/group___media_player/group___media_player.md) object to destroy.|

**Returns**

|  |   |   |
|--|--|--|
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_InvalidParam|Failed due to an invalid parameter. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_Ok|Successfully destroyed MediaPlayer. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_UnspecifiedFailure|Failed due to an unknown error.|
**Required Permissions**:

  * None 




:::note
This is a blocking sync method. As destroying a MediaPlayer object might take some time, make sure to _not_ call this API from your main UI thread.
:::



-----------

### MLMediaPlayerSetDataSourceForFD {#mlresult-mlmediaplayersetdatasourceforfd}

```cpp
MLResult MLMediaPlayerSetDataSourceForFD(
    MLHandle media_player,
    int32_t fd
)
```

Sets a file descriptor as the data source. 

**Parameters**

|  |   |   |
|--|--|--|
| [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) |media_player|Handle to the MediaPlayer instance. |
| int32_t |fd|The file descriptor for the file you want to play.|

**Returns**

|  |   |   |
|--|--|--|
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_InvalidParam|Failed due to an invalid parameter. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_Ok|Successfully set file descriptor. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_UnspecifiedFailure|Failed due to an unknown error. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_InvalidOperation|Failed because method was called in the wrong state. SetDataSource must be called immediately after creation, or after a media player reset. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_NoInit|Failed because MediaPlayer was not properly initialized.|
**Required Permissions**:

  * None 


The file descriptor must be seekable. It is the caller's responsibility to close the file descriptor. It is safe to do so as soon as this call returns.





-----------

### MLMediaPlayerSetOffsetDataSourceForFD {#mlresult-mlmediaplayersetoffsetdatasourceforfd}

```cpp
MLResult MLMediaPlayerSetOffsetDataSourceForFD(
    MLHandle media_player,
    int32_t fd,
    int64_t offset,
    int64_t length
)
```

Sets a file descriptor as the data source with offset. 

**Parameters**

|  |   |   |
|--|--|--|
| [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) |media_player|Handle to the MediaPlayer instance. |
| int32_t |fd|The file descriptor for the file you want to play. |
| int64_t |offset|The offset (in bytes) of the source's start. |
| int64_t |length|The number of bytes of media to load after offset.|

**Returns**

|  |   |   |
|--|--|--|
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_InvalidParam|Failed due to an invalid parameter. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_Ok|Successfully set file descriptor. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_UnspecifiedFailure|Failed due to an unknown error. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_InvalidOperation|Failed because method was called in the wrong state. SetDataSource must be called immediately after creation, or after a media player reset. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_NoInit|Failed because MediaPlayer was not properly initialized.|
**Required Permissions**:

  * None 


The file descriptor must be seekable. It is the caller's responsibility to close the file descriptor. It is safe to do so as soon as this call returns. This API is useful for specifying playable media located in resource files.





-----------

### MLMediaPlayerSetDataSourceForPath {#mlresult-mlmediaplayersetdatasourceforpath}

```cpp
MLResult MLMediaPlayerSetDataSourceForPath(
    MLHandle media_player,
    const char * path
)
```

Sets a local file path as the data source. 

**Parameters**

|  |   |   |
|--|--|--|
| [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) |media_player|Handle to the MediaPlayer instance. |
| const char * |path|The linux-style path of the file.|

**Returns**

|  |   |   |
|--|--|--|
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_InvalidParam|Failed due to an invalid parameter. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_Ok|Successfully set local file path. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_UnspecifiedFailure|Failed due to an unknown error. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_InvalidOperation|Failed because method was called in the wrong state. SetDataSource must be called immediately after creation, or after a media player reset. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_NoInit|Failed because MediaPlayer was not properly initialized.|
**Required Permissions**:

  * None 


The path should be an absolute path and should reference a world-readable file.





-----------

### MLMediaPlayerSetDataSourceForURI {#mlresult-mlmediaplayersetdatasourceforuri}

```cpp
MLResult MLMediaPlayerSetDataSourceForURI(
    MLHandle media_player,
    const char * uri
)
```

Sets a URI string as the data source. 

**Parameters**

|  |   |   |
|--|--|--|
| [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) |media_player|Handle to the MediaPlayer instance. |
| const char * |uri|The C-style string representing the URI complete string.|

**Returns**

|  |   |   |
|--|--|--|
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_InvalidParam|Failed due to an invalid parameter. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_Ok|Successfully set URI string. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_PermissionDenied|Failed due to lack of permission. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_UnspecifiedFailure|Failed due to an unknown error. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_InvalidOperation|Failed because method was called in the wrong state. SetDataSource must be called immediately after creation, or after a media player reset. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_NoInit|Failed because MediaPlayer was not properly initialized.|
**Required Permissions**:

  * android.permission.INTERNET (protection level: normal) 


Supported URI schemes are `file`, `http`, `https`, and `rtsp`. If looking to provide headers, use [MLMediaPlayerSetRemoteDataSourceForURI()](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayersetremotedatasourceforuri).





-----------

### MLMediaPlayerSetRemoteDataSourceForURI {#mlresult-mlmediaplayersetremotedatasourceforuri}

```cpp
MLResult MLMediaPlayerSetRemoteDataSourceForURI(
    MLHandle media_player,
    const char * uri,
    char ** headers,
    size_t len
)
```

Sets a URI string as the remote data source. 

**Parameters**

|  |   |   |
|--|--|--|
| [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) |media_player|Handle to the MediaPlayer instance. |
| const char * |uri|The C-style string representing the complete URL. |
| char ** |headers|Array of char * headers to be sent. |
| size_t |len|Number of headers passed.|

**Returns**

|  |   |   |
|--|--|--|
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_InvalidParam|Failed due to an invalid parameter. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_Ok|Successfully set URI string. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_PermissionDenied|Failed due to lack of permission. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_UnspecifiedFailure|Failed due to an unknown error. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_InvalidOperation|Failed because method was called in the wrong state. SetDataSource must be called immediately after creation, or after a media player reset. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_NoInit|Failed because MediaPlayer was not properly initialized.|
**Required Permissions**:

  * android.permission.INTERNET (protection level: normal) 


Supported URI schemes are `file`, `http`, `https`, and `rtsp`.





-----------

### MLMediaPlayerSetMediaDataSource {#mlresult-mlmediaplayersetmediadatasource}

```cpp
MLResult MLMediaPlayerSetMediaDataSource(
    MLHandle media_player,
    MLHandle media_data_source
)
```

Sets the data source to use. 

**Parameters**

|  |   |   |
|--|--|--|
| [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) |media_player|Handle to the MediaPlayer instance. |
| [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) |media_data_source|[MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) returned by [MLMediaDataSourceCreate()](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediadatasourcecreate).|

**Returns**

|  |   |   |
|--|--|--|
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_InvalidParam|Failed due to an invalid parameter. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_Ok|Successfully set the data source to use. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_UnspecifiedFailure|Failed due to an unknown error. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_InvalidOperation|Failed because method was called in the wrong state. SetDataSource must be called immediately after creation, or after a media player reset. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_NameNotFound|Failed because no valid source could be found. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_NoInit|Failed because MediaPlayer was not properly initialized.|
**Required Permissions**:

  * None 






-----------

### MLMediaPlayerSetMediaStreamSource {#mlresult-mlmediaplayersetmediastreamsource}

```cpp
MLResult MLMediaPlayerSetMediaStreamSource(
    MLHandle media_player,
    MLHandle media_stream_source
)
```

Sets the data source to use. 

**Parameters**

|  |   |   |
|--|--|--|
| [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) |media_player|Handle to the MediaPlayer instance. |
| [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) |media_stream_source|[MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) returned by [MLMediaStreamSourceCreate()](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediastreamsourcecreate).|

**Returns**

|  |   |   |
|--|--|--|
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_InvalidParam|Failed due to an invalid parameter. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_Ok|Successfully set the data source to use. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_UnspecifiedFailure|Failed due to an unknown error. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_InvalidOperation|Failed because method was called in the wrong state. SetDataSource must be called immediately after creation, or after a media player reset. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_NameNotFound|Failed because no valid source could be found. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_NoInit|Failed because MediaPlayer was not properly initialized.|
**Required Permissions**:

  * None 






-----------

### MLMediaPlayerAddTimedTextSourceForURI {#mlresult-mlmediaplayeraddtimedtextsourceforuri}

```cpp
MLResult MLMediaPlayerAddTimedTextSourceForURI(
    MLHandle media_player,
    const char * uri,
    const char * mime_type
)
```

Adds a TimedText source from a URI. 

**Parameters**

|  |   |   |
|--|--|--|
| [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) |media_player|Handle to the MediaPlayer instance. |
| const char * |uri|The C-style string representing the complete URI. |
| const char * |mime_type|The MIME type of the file.|

**Returns**

|  |   |   |
|--|--|--|
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_InvalidParam|Failed due to an invalid parameter. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_Ok|Successfully added TimedText source from URI. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_UnspecifiedFailure|Failed due to an unknown failure. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_NoInit|Failed because MediaPlayer was not properly initialized.|
**Required Permissions**:

  * None 






-----------

### MLMediaPlayerAddTimedTextSourceForFD {#mlresult-mlmediaplayeraddtimedtextsourceforfd}

```cpp
MLResult MLMediaPlayerAddTimedTextSourceForFD(
    MLHandle media_player,
    int32_t fd,
    int64_t offset,
    int64_t length,
    const char * mime_type
)
```

Adds a TimedText source from a file descriptor. 

**Parameters**

|  |   |   |
|--|--|--|
| [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) |media_player|Handle to the MediaPlayer instance. |
| int32_t |fd|The file descriptor for the timed text source. |
| int64_t |offset|The offset (in bytes) of the source's start. Must be >= 0. |
| int64_t |length|The number of bytes of media to load after offset. Must be >= 0. |
| const char * |mime_type|The MIME type of the file.|

**Returns**

|  |   |   |
|--|--|--|
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_InvalidParam|Failed due to an invalid parameter. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_Ok|Successfully added TimedText source from file descriptor. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_UnspecifiedFailure|Failed due to an unknown failure. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_NoInit|Failed because MediaPlayer was not properly initialized.|
**Required Permissions**:

  * None 


The file descriptor must be seekable. It is the caller's responsibility to close the file descriptor. It is safe to do so as soon as this call returns.





-----------

### MLMediaPlayerSetNextPlayer {#mlresult-mlmediaplayersetnextplayer}

```cpp
MLResult MLMediaPlayerSetNextPlayer(
    MLHandle media_player,
    MLHandle next_media_player
)
```

Sets the 'next' [Media Player](/api-ref/api/Modules/group___media_player/group___media_player.md) to automatically 'start' when current [Media Player](/api-ref/api/Modules/group___media_player/group___media_player.md) playback completes. 

**Parameters**

|  |   |   |
|--|--|--|
| [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) |media_player|Handle to the MediaPlayer instance. |
| [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) |next_media_player|[MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) of an already created [Media Player](/api-ref/api/Modules/group___media_player/group___media_player.md) instance. To 'remove' the next player, set next_media_player = 0.|

**Returns**

|  |   |   |
|--|--|--|
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_InvalidParam|Failed due to an invalid parameter. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_Ok|Successfully registered next [Media Player](/api-ref/api/Modules/group___media_player/group___media_player.md). |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_UnspecifiedFailure|Failed due to an unknown error. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_InvalidOperation|Failed because method was called in the wrong state. SetDataSource must be called immediately after creation, or after a media player reset. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_NameNotFound|Failed source because no valid source could be found. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_NoInit|Failed because MediaPlayer was not properly initialized.|
**Required Permissions**:

  * None 






-----------

### MLMediaPlayerGetTrackCount {#mlresult-mlmediaplayergettrackcount}

```cpp
MLResult MLMediaPlayerGetTrackCount(
    MLHandle media_player,
    uint32_t * out_track_count
)
```

Counts the number of tracks found in the data source. 

**Parameters**

|  |   |   |
|--|--|--|
| [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) |media_player|Handle to the MediaPlayer instance. |
| uint32_t * |out_track_count|The number of tracks found in the player source.|

**Returns**

|  |   |   |
|--|--|--|
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_InvalidParam|Failed due to an invalid parameter. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_Ok|Successfully returned the number of tracks. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_UnspecifiedFailure|Failed due to an unknown error. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_InvalidOperation|Failed because method was called in the wrong state. SetDataSource must be called immediately after creation, or after a media player reset. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_NoInit|Failed because MediaPlayer was not properly initialized.|
**Required Permissions**:

  * None 






-----------

### MLMediaPlayerGetTrackType {#mlresult-mlmediaplayergettracktype}

```cpp
MLResult MLMediaPlayerGetTrackType(
    MLHandle media_player,
    uint32_t track,
    MLMediaPlayerTrackType * out_track_type
)
```

Gets the type of a track. 

**Parameters**

|  |   |   |
|--|--|--|
| [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) |media_player|Handle to the MediaPlayer instance. |
| uint32_t |track|The track number for which type is to be returned. Has to be < TrackCount. |
| [MLMediaPlayerTrackType](/api-ref/api/Modules/group___media_player/group___media_player.md#enums-mlmediaplayertracktype) * |out_track_type|The returned type for specified track number.|

**Returns**

|  |   |   |
|--|--|--|
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_InvalidParam|Failed due to an invalid parameter. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_Ok|Successfully returned type for passed track. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_UnspecifiedFailure|Failed due to an unknown error. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_InvalidOperation|Failed because method was called in the wrong state. SetDataSource must be called immediately after creation, or after a media player reset. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_NameNotFound|Found track's type was unknown. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_NoInit|Failed because MediaPlayer was not properly initialized.|
**Required Permissions**:

  * None 






-----------

### MLMediaPlayerGetTrackLanguage {#mlresult-mlmediaplayergettracklanguage}

```cpp
MLResult MLMediaPlayerGetTrackLanguage(
    MLHandle media_player,
    uint32_t track,
    char ** out_track_language
)
```

Gets the language of a track. 

**Parameters**

|  |   |   |
|--|--|--|
| [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) |media_player|Handle to the MediaPlayer instance. |
| uint32_t |track|The track number for which language is to be returned. Has to be < TrackCount. |
| char ** |out_track_language|The returned language of the track. Caller has ownership of that param and has to free it when no longer needed.|

**Returns**

|  |   |   |
|--|--|--|
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_InvalidParam|Failed due to an invalid parameter. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_Ok|Successfully returned language for passed track. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_UnspecifiedFailure|Failed due to an unknown error. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_InvalidOperation|Failed because method was called in the wrong state. SetDataSource must be called immediately after creation, or after a media player reset. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_NoInit|Failed because MediaPlayer was not properly initialized.|
**Required Permissions**:

  * None 






-----------

### MLMediaPlayerGetTrackMediaFormat {#mlresult-mlmediaplayergettrackmediaformat}

```cpp
MLResult MLMediaPlayerGetTrackMediaFormat(
    MLHandle media_player,
    uint32_t track,
    MLHandle * out_media_format
)
```

Gets the Media Format of a track. 

**Parameters**

|  |   |   |
|--|--|--|
| [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) |media_player|Handle to the MediaPlayer instance. |
| uint32_t |track|The track number for which Media Format is to be returned. Has to be < TrackCount. |
| [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) * |out_media_format|[MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) to MediaFormat of the track. Caller has ownership of this handle and should call [MLMediaFormatDestroy](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaformatdestroy) to free it when no longer needed.|

**Returns**

|  |   |   |
|--|--|--|
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_InvalidParam|Failed due to an invalid parameter. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_Ok|Successfully retreived the media format of passed track. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_UnspecifiedFailure|Failed due to an unknown error. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_InvalidOperation|Failed because method was called in the wrong state. SetDataSource must be called immediately after creation, or after a media player reset. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_NoInit|Failed because MediaPlayer was not properly initialized.|
**Required Permissions**:

  * None 





**API Level:**
  * 2




-----------

### MLMediaPlayerSelectTrack {#mlresult-mlmediaplayerselecttrack}

```cpp
MLResult MLMediaPlayerSelectTrack(
    MLHandle media_player,
    uint32_t track
)
```

Selects a track. 

**Parameters**

|  |   |   |
|--|--|--|
| [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) |media_player|Handle to the MediaPlayer instance. |
| uint32_t |track|Number of the track to select. Has to be < TrackCount.|

**Returns**

|  |   |   |
|--|--|--|
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_InvalidParam|Failed due to an invalid parameter. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_Ok|Successfully selected track. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_UnspecifiedFailure|Failed due to an unknown error. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_InvalidOperation|Failed because method was called in the wrong state. SetDataSource must be called immediately after creation, or after a media player reset. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_NoInit|Failed because MediaPlayer was not properly initialized.|
**Required Permissions**:

  * None 






-----------

### MLMediaPlayerUnselectTrack {#mlresult-mlmediaplayerunselecttrack}

```cpp
MLResult MLMediaPlayerUnselectTrack(
    MLHandle media_player,
    uint32_t track
)
```

Unselects a track. 

**Parameters**

|  |   |   |
|--|--|--|
| [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) |media_player|Handle to the MediaPlayer instance. |
| uint32_t |track|Number of the track to unselect. Has to be < TrackCount.|

**Returns**

|  |   |   |
|--|--|--|
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_InvalidParam|Failed due to an invalid parameter. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_Ok|Successfully unselected track. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_UnspecifiedFailure|Failed due to an unknown error. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_InvalidOperation|Failed because method was called in the wrong state. SetDataSource must be called immediately after creation, or after a media player reset. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_NoInit|Failed because MediaPlayer was not properly initialized.|
**Required Permissions**:

  * None 






-----------

### MLMediaPlayerPrepare {#mlresult-mlmediaplayerprepare}

```cpp
MLResult MLMediaPlayerPrepare(
    MLHandle media_player
)
```

Prepares the player for playback, synchronously. 

**Parameters**

|  |   |   |
|--|--|--|
| [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) |media_player|Handle to the MediaPlayer instance.|

**Returns**

|  |   |   |
|--|--|--|
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_InvalidParam|Failed due to an invalid parameter. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_Ok|Successfully prepared the player. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_UnspecifiedFailure|Failed due to an unknown error. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_InvalidOperation|Failed because method was called in the wrong state. Can only be called after one of the setDataSource methods or in the 'stopped' state. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_NoInit|Failed because MediaPlayer was not properly initialized. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaResult_CannotConnect|Failed becaue MediaPlayer could not connect with the given URL.|
**Required Permissions**:

  * None 


After setting the data source and the #GraphicBufferProducer, you need to either call prepare() or prepareAsync(). For files, it is OK to call prepare(), which blocks until [Media Player](/api-ref/api/Modules/group___media_player/group___media_player.md) is ready for playback.





-----------

### MLMediaPlayerPrepareAsync {#mlresult-mlmediaplayerprepareasync}

```cpp
MLResult MLMediaPlayerPrepareAsync(
    MLHandle media_player
)
```

Prepares the player for playback, asynchronously. 

**Parameters**

|  |   |   |
|--|--|--|
| [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) |media_player|Handle to the MediaPlayer instance.|

**Returns**

|  |   |   |
|--|--|--|
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_InvalidParam|Failed due to an invalid parameter. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_Ok|Successfully prepared the player asynchronously. For result, poll for MLMediaPlayerPollingStateFlag_HasBeenPrepared state or wait for 'on_prepared' callback if already set. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_UnspecifiedFailure|Failed due to an unknown error. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_InvalidOperation|Failed because method was called in the wrong state. Can only be called after one of the setDataSource methods or in the 'stopped' state. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_NoInit|Failed because MediaPlayer was not properly initialized.|
**Required Permissions**:

  * None 


After setting the data's source and the #GraphicBufferProducer, you need to either call prepare() or prepareAsync(). For streams, you should call prepareAsync(), which returns immediately, rather than blocking until enough data has been buffered. Prepared state will then be obtained via the 'on_prepared' callback if already registered (see MLMediaPlayerSetEventCallbacksEx), or polled for via the [MLMediaPlayerPollStates()](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayerpollstates) call with the MLMediaPlayerPollingStateFlag_HasBeenPrepared flag set.





-----------

### MLMediaPlayerStart {#mlresult-mlmediaplayerstart}

```cpp
MLResult MLMediaPlayerStart(
    MLHandle media_player
)
```

Starts or resumes playback. 

**Parameters**

|  |   |   |
|--|--|--|
| [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) |media_player|Handle to the MediaPlayer instance.|

**Returns**

|  |   |   |
|--|--|--|
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_InvalidParam|Failed due to an invalid parameter. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_Ok|Successfully started/resumed playback. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_UnspecifiedFailure|Failed due to an unknown error. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_InvalidOperation|Failed because method was called in the wrong state. Can only be called in one of the following states: 'prepared', 'playback complete', 'paused', 'stopped'. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_NoInit|Failed because MediaPlayer was not properly initialized.|
**Required Permissions**:

  * None 


If playback had previously been paused, playback will continue from where it was paused. If playback had been stopped, or never started before, playback will start at the beginning.





-----------

### MLMediaPlayerStop {#mlresult-mlmediaplayerstop}

```cpp
MLResult MLMediaPlayerStop(
    MLHandle media_player
)
```

Stops playback after playback has been started or paused. 

**Parameters**

|  |   |   |
|--|--|--|
| [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) |media_player|Handle to the MediaPlayer instance.|

**Returns**

|  |   |   |
|--|--|--|
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_InvalidParam|Failed due to an invalid parameter. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_Ok|Successfully stopped playback. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_UnspecifiedFailure|Failed due to an unknown error. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_InvalidOperation|Failed because method was called in the wrong state. Can only be called in one of the following states: 'playing', 'paused', 'stopped', 'prepared', 'playback complete'. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_NoInit|Failed because MediaPlayer was not properly initialized.|
**Required Permissions**:

  * None 






-----------

### MLMediaPlayerPause {#mlresult-mlmediaplayerpause}

```cpp
MLResult MLMediaPlayerPause(
    MLHandle media_player
)
```

Pauses playback. 

**Parameters**

|  |   |   |
|--|--|--|
| [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) |media_player|Handle to the MediaPlayer instance.|

**Returns**

|  |   |   |
|--|--|--|
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_InvalidParam|Failed due to an invalid parameter. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_Ok|Successfully paused playback. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_UnspecifiedFailure|Failed due to an unknown error. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_InvalidOperation|Failed because method was called in the wrong state. Can only be called in one of the following states: 'playing', 'paused', 'playback complete'. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_NoInit|Failed because MediaPlayer was not properly initialized.|
**Required Permissions**:

  * None 


Calling pause() is a NOOP if [Media Player](/api-ref/api/Modules/group___media_player/group___media_player.md) is in state #MEDIA_PLAYER_PAUSED or #MEDIA_PLAYER_PLAYBACK_COMPLETE.





-----------

### MLMediaPlayerReset {#mlresult-mlmediaplayerreset}

```cpp
MLResult MLMediaPlayerReset(
    MLHandle media_player
)
```

Resets the [Media Player](/api-ref/api/Modules/group___media_player/group___media_player.md) to its uninitialized state. 

**Parameters**

|  |   |   |
|--|--|--|
| [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) |media_player|Handle to the MediaPlayer instance.|

**Returns**

|  |   |   |
|--|--|--|
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_InvalidParam|Failed due to an invalid parameter. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_Ok|Successfully reset MediaPlayer. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_UnspecifiedFailure|Failed due to an unknown error. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_InvalidOperation|Failed because method was called in the wrong state. This method can be called anytime except when in 'preparing async'. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_NoInit|Failed because MediaPlayer was not properly initialized.|
**Required Permissions**:

  * None 


After calling this method, you will have to initialize it again by setting the data source and calling prepare().



:::note
This is a blocking sync method, make sure to _not_ call this API from your main UI thread.
:::



-----------

### MLMediaPlayerSeekTo {#mlresult-mlmediaplayerseekto}

```cpp
MLResult MLMediaPlayerSeekTo(
    MLHandle media_player,
    int msec,
    MLMediaSeekMode mode
)
```

Seeks to specified time position. 

**Parameters**

|  |   |   |
|--|--|--|
| [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) |media_player|Handle to the MediaPlayer instance. |
| int |msec|The offset in milliseconds from the start, to seek to. |
| [MLMediaSeekMode](/api-ref/api/Modules/group___media_player/group___media_player.md#enums-mlmediaseekmode) |mode|Seek mode defined by MLMediaSeekMode.|

**Returns**

|  |   |   |
|--|--|--|
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_InvalidParam|Failed due to an invalid parameter. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_Ok|Successfully launched seek operation asynchronously. For result, poll for MLMediaPlayerPollingStateFlag_HasSeekCompleted state or wait for the 'on_seek_complete' callback if already set. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_UnspecifiedFailure|Failed due to an unknown error. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_InvalidOperation|Failed because method was called in the wrong state. This method can only be called from the following states: 'started', 'prepared', 'paused' and 'playback complete'. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_NoInit|Failed because MediaPlayer was not properly initialized.|
**Required Permissions**:

  * None 


Note that SeekTo is an async. function and returns immediately. Successful seek result has to be obtained either via the 'on_seek_complete' if already registered (see MLMediaPlayerSetEventCallbacksEx) or by polling for the flag 'MLMediaPlayerPollingStateFlag_HasSeekCompleted' when calling [MLMediaPlayerPollStates()](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayerpollstates).





-----------

### MLMediaPlayerSetEventCallbacksEx {#mlresult-mlmediaplayerseteventcallbacksex}

```cpp
MLResult MLMediaPlayerSetEventCallbacksEx(
    MLHandle media_player,
    const MLMediaPlayerEventCallbacksEx * callbacks,
    void * data
)
```

Sets callbacks to notify clients about player events. 

**Parameters**

|  |   |   |
|--|--|--|
| [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) |media_player|[MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) to the MediaCodec. |
| const [MLMediaPlayerEventCallbacksEx](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_event_callbacks_ex.md) * |callbacks|Set of event callbacks. Can be set to NULL to unset the callbacks altogether. |
| void * |data|Custom data to be returned when any callback is fired.|

**Returns**

|  |   |   |
|--|--|--|
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_InvalidParam|Failed due to an invalid parameter. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_Ok|Successfully set/unset the specified callbacks. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_UnspecifiedFailure|Failed due to an unknown error.|
**Required Permissions**:

  * None 


This structure must be initialized by calling [MLMediaPlayerEventCallbacksExInit()](/api-ref/api/Modules/group___media_player/group___media_player.md#void-mlmediaplayereventcallbacksexinit) before use.

Client needs to implement the callback functions declared in [MLMediaPlayerEventCallbacksEx](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_event_callbacks_ex.md), but can set to NULL the ones he does not care about.




**API Level:**
  * 2




-----------

### MLMediaPlayerGetVideoSize {#mlresult-mlmediaplayergetvideosize}

```cpp
MLResult MLMediaPlayerGetVideoSize(
    MLHandle media_player,
    int32_t * out_width,
    int32_t * out_height
)
```

Returns the size of the video frame. 

**Parameters**

|  |   |   |
|--|--|--|
| [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) |media_player|Handle to the MediaPlayer instance. |
| int32_t * |out_width|The returned video width. |
| int32_t * |out_height|The returned video height.|

**Returns**

|  |   |   |
|--|--|--|
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_InvalidParam|Failed due to an invalid parameter. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_Ok|Successfully returned video size. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_UnspecifiedFailure|Failed due to an unknown error. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_NoInit|Failed because MediaPlayer was not properly initialized.|
**Required Permissions**:

  * None 






-----------

### MLMediaPlayerGetCurrentPosition {#mlresult-mlmediaplayergetcurrentposition}

```cpp
MLResult MLMediaPlayerGetCurrentPosition(
    MLHandle media_player,
    int32_t * out_msec
)
```

Returns current position of playback. 

**Parameters**

|  |   |   |
|--|--|--|
| [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) |media_player|Handle to the MediaPlayer instance. |
| int32_t * |out_msec|The returned position in milliseconds.|

**Returns**

|  |   |   |
|--|--|--|
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_InvalidParam|Failed due to an invalid parameter. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_Ok|Successfully returned current position. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_UnspecifiedFailure|Failed due to an unknown error. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_NoInit|Failed because MediaPlayer was not properly initialized.|
**Required Permissions**:

  * None 






-----------

### MLMediaPlayerGetDuration {#mlresult-mlmediaplayergetduration}

```cpp
MLResult MLMediaPlayerGetDuration(
    MLHandle media_player,
    int32_t * out_msec
)
```

Returns media duration. 

**Parameters**

|  |   |   |
|--|--|--|
| [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) |media_player|Handle to the MediaPlayer instance. |
| int32_t * |out_msec|The returned duration in milliseconds.|

**Returns**

|  |   |   |
|--|--|--|
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_InvalidParam|Failed due to an invalid parameter. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_Ok|Successfully returned the media duration. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_UnspecifiedFailure|Failed due to an unknown error. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_InvalidOperation|Failed because method was called in the wrong state. This method can only be called from the following states: 'prepared', 'started', 'paused', 'stopped' and 'playback complete'. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_NoInit|Failed because MediaPlayer was not properly initialized.|
**Required Permissions**:

  * None 






-----------

### MLMediaPlayerGetBufferingUpdate {#mlresult-mlmediaplayergetbufferingupdate}

```cpp
MLResult MLMediaPlayerGetBufferingUpdate(
    MLHandle media_player,
    int32_t * out_percentage
)
```

Returns current buffering percentage. 

**Parameters**

|  |   |   |
|--|--|--|
| [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) |media_player|Handle to the MediaPlayer instance. |
| int32_t * |out_percentage|The returned buffering percentage in the range [0, 100].|

**Returns**

|  |   |   |
|--|--|--|
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_InvalidParam|Failed due to an invalid parameter. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_Ok|Successfully returned current buffering percentage. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_UnspecifiedFailure|Failed due to an unknown error. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_NoInit|Failed because MediaPlayer was not properly initialized.|
**Required Permissions**:

  * None 






-----------

### MLMediaPlayerGetInfo {#mlresult-mlmediaplayergetinfo}

```cpp
MLResult MLMediaPlayerGetInfo(
    MLHandle media_player,
    int32_t * out_code,
    int32_t * out_extra
)
```

Returns last info received by internal [Media Player](/api-ref/api/Modules/group___media_player/group___media_player.md). 

**Parameters**

|  |   |   |
|--|--|--|
| [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) |media_player|Handle to the MediaPlayer instance. |
| int32_t * |out_code|The main info code. |
| int32_t * |out_extra|The secondary code/data.|

**Returns**

|  |   |   |
|--|--|--|
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_InvalidParam|Failed due to an invalid parameter. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_Ok|Successfully returned the last MediaPlayer. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_UnspecifiedFailure|Failed due to an unknown error. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_NoInit|Failed because MediaPlayer was not properly initialized.|
**Required Permissions**:

  * None 






-----------

### MLMediaPlayerGetError {#mlresult-mlmediaplayergeterror}

```cpp
MLResult MLMediaPlayerGetError(
    MLHandle media_player,
    MLResult * out_result
)
```

Returns last error received by internal [Media Player](/api-ref/api/Modules/group___media_player/group___media_player.md). 

**Parameters**

|  |   |   |
|--|--|--|
| [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) |media_player|Handle to the MediaPlayer instance. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) * |out_result|The result code.|

**Returns**

|  |   |   |
|--|--|--|
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_InvalidParam|Failed due to an invalid parameter. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_Ok|Successfully returned the last MediaPlayer error. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_UnspecifiedFailure|Failed due to an unknown error. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_NoInit|Failed because MediaPlayer was not properly initialized.|
**Required Permissions**:

  * None 






-----------

### MLMediaPlayerGetTimedText {#mlresult-mlmediaplayergettimedtext}

```cpp
MLResult MLMediaPlayerGetTimedText(
    MLHandle media_player,
    const char ** out_text,
    int32_t * out_start,
    int32_t * out_end
)
```

Returns last timed text event information. 

**Parameters**

|  |   |   |
|--|--|--|
| [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) |media_player|Handle to the MediaPlayer instance. |
| const char ** |out_text|The text of the timed text event. |
| int32_t * |out_start|The start time. |
| int32_t * |out_end|The end time.|

**Returns**

|  |   |   |
|--|--|--|
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_InvalidParam|Failed due to an invalid parameter. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_Ok|Successfully returned the last timedtext entry. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_UnspecifiedFailure|Failed due to an unknown error. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_NoInit|Failed because MediaPlayer was not properly initialized.|
**Required Permissions**:

  * None 






-----------

### MLMediaPlayerGetSubtitleEx {#mlresult-mlmediaplayergetsubtitleex}

```cpp
MLResult MLMediaPlayerGetSubtitleEx(
    MLHandle media_player,
    MLMediaPlayerSubtitleData ** out_subtitle_data
)
```

Returns last subtitle event information. 

**Parameters**

|  |   |   |
|--|--|--|
| [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) |media_player|Handle to the MediaPlayer instance. |
| [MLMediaPlayerSubtitleData](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_subtitle_data.md) ** |out_subtitle_data|The returned MLMediaPlayerGetSubtitleExArgs pointer.|

**Returns**

|  |   |   |
|--|--|--|
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_InvalidParam|Failed due to an invalid parameter. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_Ok|Successfully returned the last subtitle entry. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_NoInit|Failed because MediaPlayer was not properly initialized.|
**Required Permissions**:

  * None 





**API Level:**
  * 2




-----------

### MLMediaPlayerReleaseSubtitleEx {#mlresult-mlmediaplayerreleasesubtitleex}

```cpp
MLResult MLMediaPlayerReleaseSubtitleEx(
    MLHandle media_player
)
```

Releases last subtitle event information. 

**Parameters**

|  |   |   |
|--|--|--|
| [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) |media_player|Handle to the MediaPlayer instance.|

**Returns**

|  |   |   |
|--|--|--|
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_InvalidParam|Failed due to an invalid parameter. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_Ok|Successfully released the last subtitle entry. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_NoInit|Failed because MediaPlayer was not properly initialized.|
**Required Permissions**:

  * None 





**API Level:**
  * 2




-----------

### MLMediaPlayerSetOnMediaSubtitleUpdateCallback {#mlresult-mlmediaplayersetonmediasubtitleupdatecallback}

```cpp
MLResult MLMediaPlayerSetOnMediaSubtitleUpdateCallback(
    MLHandle media_player,
    MLMediaPlayerOnMediaSubtitleUpdateCallback on_media_subtitle_callback,
    void * data
)
```

Sets callback to get notified when a subtitle update is available along with its data. 

**Parameters**

|  |   |   |
|--|--|--|
| [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) |media_player|Handle to the MediaPlayer instance. |
| [MLMediaPlayerOnMediaSubtitleUpdateCallback](/api-ref/api/Modules/group___media_player/group___media_player.md#void-mlmediaplayeronmediasubtitleupdatecallback) |on_media_subtitle_callback|Function pointer to be called. This can be 'NULL' to unset the callback. See [MLMediaPlayerOnMediaSubtitleUpdateCallback()](/api-ref/api/Modules/group___media_player/group___media_player.md#void-mlmediaplayeronmediasubtitleupdatecallback) callback typedef declaration and comments for explanation on expected callback parameters. |
| void * |data|Custom data to be returned when callback is fired.|

**Returns**

|  |   |   |
|--|--|--|
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_InvalidParam|Failed due to an invalid parameter. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_Ok|Successfully set callback. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_UnspecifiedFailure|Failed due to an unknown error.|
**Required Permissions**:

  * None 



Setting this callback disables use of the poll-based API to query for the [MLMediaPlayerPollingStateFlag_HasSubtitleUpdated](/api-ref/api/Modules/group___media_player/group___media_player.md#enums-mlmediaplayerpollingstateflag-hassubtitleupdated) flag. [MLMediaPlayerPollStates()](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayerpollstates) will ignore checks for this bit.

This also makes [MLMediaPlayerGetSubtitleEx()](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayergetsubtitleex) redundant as the subtitle data is provided with the callback.




**API Level:**
  * 4




-----------

### MLMediaPlayerGetMetadata {#mlresult-mlmediaplayergetmetadata}

```cpp
MLResult MLMediaPlayerGetMetadata(
    MLHandle media_player,
    int64_t * out_time,
    int32_t * out_size,
    uint8_t ** out_buffer
)
```

Returns last metadata event information. 

**Parameters**

|  |   |   |
|--|--|--|
| [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) |media_player|Handle to the MediaPlayer instance. |
| int64_t * |out_time|The returned event time. |
| int32_t * |out_size|The returned event buffer size. |
| uint8_t ** |out_buffer|The returned event buffer. This buffer is only valid until the next metadata event arrives, so make a copy if you need to use the buffer later.|

**Returns**

|  |   |   |
|--|--|--|
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_InvalidParam|Failed due to an invalid parameter. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_Ok|Successfully returned last metadata entry. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_UnspecifiedFailure|Failed due to an unknown error. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_NoInit|Failed because MediaPlayer was not properly initialized.|
**Required Permissions**:

  * None 






-----------

### MLMediaPlayerSetVideoScalingMode {#mlresult-mlmediaplayersetvideoscalingmode}

```cpp
MLResult MLMediaPlayerSetVideoScalingMode(
    MLHandle media_player,
    MLMediaPlayerVideoScalingMode mode
)
```

Sets video scaling mode. 

**Parameters**

|  |   |   |
|--|--|--|
| [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) |media_player|MLHandle to the MediaPlayer instance. |
| [MLMediaPlayerVideoScalingMode](/api-ref/api/Modules/group___media_player/group___media_player.md#enums-mlmediaplayervideoscalingmode) |mode|The video scaling mode to set. For a list of valid values, see #media_video_scaling_mode_type declaration.|

**Returns**

|  |   |   |
|--|--|--|
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_InvalidParam|Failed due to an invalid parameter. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_Ok|Successfully returned current video scaling mode. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_UnspecifiedFailure|Failed due to an unknown error. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_InvalidOperation|Failed because method was called in the wrong state. SetDataSource must be called immediately after creation, or after a media player reset. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_NoInit|Failed because MediaPlayer was not properly initialized.|
**Required Permissions**:

  * None 






-----------

### MLMediaPlayerSetLooping {#mlresult-mlmediaplayersetlooping}

```cpp
MLResult MLMediaPlayerSetLooping(
    MLHandle media_player,
    bool loop
)
```

Sets the looping mode of the player. 

**Parameters**

|  |   |   |
|--|--|--|
| [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) |media_player|Handle to the MediaPlayer instance. |
| bool |loop|The looping mode. Set to true if player should loop to beginning of MediaPlayer when EOS reached. Set to false if MediaPlayer should simply stop playback at end of media.|

**Returns**

|  |   |   |
|--|--|--|
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_InvalidParam|Failed due to an invalid parameter. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_Ok|Successfully returned current looping mode. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_UnspecifiedFailure|Failed due to an unknown error. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_NoInit|Failed because MediaPlayer was not properly initialized.|
**Required Permissions**:

  * None 






-----------

### MLMediaPlayerSetVolume {#mlresult-mlmediaplayersetvolume}

```cpp
MLResult MLMediaPlayerSetVolume(
    MLHandle media_player,
    float volume
)
```

Sets the volume on this player. 

**Parameters**

|  |   |   |
|--|--|--|
| [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) |media_player|Handle to the MediaPlayer instance. |
| float |volume|The new volume in the [0.0, 1.0] range.|

**Returns**

|  |   |   |
|--|--|--|
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_InvalidParam|Failed due to an invalid parameter. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_Ok|Successfully set the volume. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_UnspecifiedFailure|Failed due to an unknown error. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_NoInit|Failed because MediaPlayer was not properly initialized.|
**Required Permissions**:

  * None 






-----------

### MLMediaPlayerGetAudioHandle {#mlresult-mlmediaplayergetaudiohandle}

```cpp
MLResult MLMediaPlayerGetAudioHandle(
    MLHandle media_player,
    MLHandle * out_handle
)
```

Gets the handle of the audio stream. 

**Parameters**

|  |   |   |
|--|--|--|
| [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) |media_player|Handle to the MediaPlayer instance. |
| [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) * |out_handle|The [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) to the returned Audio handle. Only valid if result is MLResult_Ok.|

**Returns**

|  |   |   |
|--|--|--|
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_NotImplemented|If used in versions starting 1.2.0 or later.|
**Required Permissions**:

  * None 




:::caution Deprecated
Unsupported since 1.2.0. Scheduled for removal. 
:::



-----------

### MLMediaPlayerPollStates {#mlresult-mlmediaplayerpollstates}

```cpp
MLResult MLMediaPlayerPollStates(
    MLHandle media_player,
    uint16_t mask,
    uint16_t * out_polled_states
)
```

Polls the desired states from internal [Media Player](/api-ref/api/Modules/group___media_player/group___media_player.md). 

**Parameters**

|  |   |   |
|--|--|--|
| [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) |media_player|Handle to the MediaPlayer instance. |
| uint16_t |mask|Selection mask for picking which states to retrieve. |
| uint16_t * |out_polled_states|Bitwise OR'ed integer of all the chosen states from bitwise 'mask' and in the range [0 = false : 1 = true].|

**Returns**

|  |   |   |
|--|--|--|
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_InvalidParam|Failed due to an invalid parameter. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_Ok|Successfully polled and returned the selected states. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_UnspecifiedFailure|Failed due to an unknown error.|
**Required Permissions**:

  * None 


Desired states have to be selected by passing a bitwise OR'ed mask of [MLMediaPlayerPollingStateFlags](/api-ref/api/Modules/group___media_player/group___media_player.md#enums-mlmediaplayerpollingstateflags) flags.

The "is_XXX" states can be polled multiples times and the return value will be the same if internal state hasn't changed since last call.

When polling the "has_XXX" states however, internal state is set to false, since they mean : has `<state>` happened/changed since I last polled `<state>`.

Two-step state polling : The following states, when returning '1', indicate there is some data ready to be retrieved, by calling a getter function, as explained below.

For '#MLMediaPlayerPollingState_HasSizeChanged', call [MLMediaPlayerGetVideoSize()](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayergetvideosize) to get the new size.

For '#MLMediaPlayerPollingState_HasBufferingUpdated', call [MLMediaPlayerGetBufferingUpdate()](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayergetbufferingupdate) to get buffering progress value.

For '#MLMediaPlayerPollingState_HasReceivedInfo, call [MLMediaPlayerGetError()](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayergeterror) to get last info code and data.

For '#MLMediaPlayerPollingState_HasReceivedError, call [MLMediaPlayerGetError()](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayergeterror) to get last error code and data.

Note: This API can still be used even if an #OnBufferAvailable callback has been set using MLMediaPlayerSetOnBufferAvailableCallback() method.





-----------

### MLMediaPlayerGetTrackDRMInfo {#mlresult-mlmediaplayergettrackdrminfo}

```cpp
MLResult MLMediaPlayerGetTrackDRMInfo(
    MLHandle media_player,
    const MLMediaPlayerTrackInfo * track_info,
    MLMediaPlayerTrackDRMInfo ** out_drm_info
)
```

Gets the DRM info of the selected media (either audio or video) track. 

**Parameters**

|  |   |   |
|--|--|--|
| [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) |media_player|Handle to the MediaPlayer instance. |
| const [MLMediaPlayerTrackInfo](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_track_info.md) * |track_info|Media track information defined by [MLMediaPlayerTrackInfo](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_track_info.md). |
| [MLMediaPlayerTrackDRMInfo](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_track_d_r_m_info.md) ** |out_drm_info|Pointer to the pointer to [MLMediaPlayerTrackDRMInfo](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_track_d_r_m_info.md) struct. The caller should not free the pointer returned. The memory will be released in the call to [MLMediaPlayerReleaseDRM()](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayerreleasedrm).|

**Returns**

|  |   |   |
|--|--|--|
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_InvalidParam|Failed due to an invalid parameter. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_Ok|Successfully returned the current DRM Info. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_Pending|Media Source is not prepared yet. Wait for on_prepared callback and call again. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_NoInit|Failed because MediaPlayer was not properly initialized. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_NotAvailable|DRM Information not available for the given track.|
**Required Permissions**:

  * None 


This function has to be called only after DataSource has been set and the MediaPlayer is completely prepared.




**API Level:**
  * 2




-----------

### MLMediaPlayerPrepareTrackDRM {#mlresult-mlmediaplayerpreparetrackdrm}

```cpp
MLResult MLMediaPlayerPrepareTrackDRM(
    MLHandle media_player,
    const MLMediaPlayerTrackDRMSessionInfo * drm_session_info
)
```

Prepares DRM for the selected media (either audio or video) track. 

**Parameters**

|  |   |   |
|--|--|--|
| [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) |media_player|Handle to the MediaPlayer instance. |
| const [MLMediaPlayerTrackDRMSessionInfo](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_track_d_r_m_session_info.md) * |drm_session_info|DRM Session info for the Media track, as defined by [MLMediaPlayerTrackDRMSessionInfo](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_track_d_r_m_session_info.md).|

**Returns**

|  |   |   |
|--|--|--|
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_InvalidParam|Failed due to an invalid parameter. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_Ok|Successfully prepared DRM. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_NoInit|Failed because MediaPlayer was not properly initialized.|
**Required Permissions**:

  * None 





**API Level:**
  * 2




-----------

### MLMediaPlayerReleaseDRM {#mlresult-mlmediaplayerreleasedrm}

```cpp
MLResult MLMediaPlayerReleaseDRM(
    MLHandle media_player
)
```

Releases DRM. 

**Parameters**

|  |   |   |
|--|--|--|
| [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) |media_player|Handle to the MediaPlayer instance.|

**Returns**

|  |   |   |
|--|--|--|
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_InvalidParam|Failed due to an invalid parameter. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_Ok|Successfully released DRM. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_NoInit|Failed because MediaPlayer was not properly initialized.|
**Required Permissions**:

  * None 






-----------

### MLMediaPlayerGetDefaultBufferingSettings {#mlresult-mlmediaplayergetdefaultbufferingsettings}

```cpp
MLResult MLMediaPlayerGetDefaultBufferingSettings(
    MLHandle media_player,
    MLMediaPlayerBufferingSettings * out_buf_settings
)
```

Gets default Buffering settings. 

**Parameters**

|  |   |   |
|--|--|--|
| [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) |media_player|Handle to the MediaPlayer instance. |
| [MLMediaPlayerBufferingSettings](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_buffering_settings.md) * |out_buf_settings|A pointer to [MLMediaPlayerBufferingSettings](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_buffering_settings.md).|

**Returns**

|  |   |   |
|--|--|--|
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_InvalidParam|Failed due to an invalid parameter. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_Ok|Successfully returned default Buffering settings. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_NotImplemented|Feature not implemented in the given model. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_NoInit|Failed because MediaPlayer was not properly initialized.|
**Required Permissions**:

  * None 


\Attention The API is only implemented in ML1.





-----------

### MLMediaPlayerGetBufferingSettings {#mlresult-mlmediaplayergetbufferingsettings}

```cpp
MLResult MLMediaPlayerGetBufferingSettings(
    MLHandle media_player,
    MLMediaPlayerBufferingSettings * out_buf_settings
)
```

Gets current Buffering settings. 

**Parameters**

|  |   |   |
|--|--|--|
| [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) |media_player|Handle to the MediaPlayer instance. |
| [MLMediaPlayerBufferingSettings](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_buffering_settings.md) * |out_buf_settings|A pointer to [MLMediaPlayerBufferingSettings](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_buffering_settings.md).|

**Returns**

|  |   |   |
|--|--|--|
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_InvalidParam|Failed due to an invalid parameter. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_Ok|Successfully returned current Buffering settings. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_NotImplemented|Feature not implemented in the given model. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_NoInit|Failed because MediaPlayer was not properly initialized.|
**Required Permissions**:

  * None 


\Attention The API is only implemented in ML1.





-----------

### MLMediaPlayerSetBufferingSettings {#mlresult-mlmediaplayersetbufferingsettings}

```cpp
MLResult MLMediaPlayerSetBufferingSettings(
    MLHandle media_player,
    MLMediaPlayerBufferingSettings buf_settings
)
```

Sets buffering settings. 

**Parameters**

|  |   |   |
|--|--|--|
| [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) |media_player|Handle to the MediaPlayer instance. |
| [MLMediaPlayerBufferingSettings](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_buffering_settings.md) |buf_settings|An [MLMediaPlayerBufferingSettings](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_buffering_settings.md) struct.|

**Returns**

|  |   |   |
|--|--|--|
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_InvalidParam|Failed due to an invalid parameter. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_Ok|Successfully set buffering settings. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_NotImplemented|Feature not implemented in the given model. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_NoInit|Failed because MediaPlayer was not properly initialized.|
**Required Permissions**:

  * None 


\Attention The API is only implemented in ML1.





-----------

### MLMediaPlayerSetOnMediaTimedTextUpdateCallback {#mlresult-mlmediaplayersetonmediatimedtextupdatecallback}

```cpp
MLResult MLMediaPlayerSetOnMediaTimedTextUpdateCallback(
    MLHandle media_player,
    MLMediaPlayerOnMediaTimedTextUpdateCallback on_media_timed_text_callback,
    void * data
)
```

Set callback to get invoked when a Timed Text update is available along with its data. 

**Parameters**

|  |   |   |
|--|--|--|
| [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) |media_player|Handle to the MediaPlayer instance. |
| [MLMediaPlayerOnMediaTimedTextUpdateCallback](/api-ref/api/Modules/group___media_player/group___media_player.md#void-mlmediaplayeronmediatimedtextupdatecallback) |on_media_timed_text_callback|Function pointer to be called. This can be 'NULL' to unset the callback. |
| void * |data|Custom data to be returned when callback is fired.|

**Returns**

|  |   |   |
|--|--|--|
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_Ok|Successfully set callback. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_InvalidParam|Failed due to an invalid parameter. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_UnspecifiedFailure|Failed due to an unknown error.|
**Required Permissions**:

  * None 



Setting this callback disables use of the poll-based API to query for the [MLMediaPlayerPollingStateFlag_HasTimedTextUpdated](/api-ref/api/Modules/group___media_player/group___media_player.md#enums-mlmediaplayerpollingstateflag-hastimedtextupdated) flag. [MLMediaPlayerPollStates()](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayerpollstates) will ignore checks for this bit.




**API Level:**
  * 4




-----------

### MLMediaPlayerGetWebVTTData {#mlresult-mlmediaplayergetwebvttdata}

```cpp
MLResult MLMediaPlayerGetWebVTTData(
    MLHandle media_player,
    MLHandle timed_text,
    MLWebVTTData ** out_webvtt_data
)
```

Gets WebVTT data represented by a timed text handle. 

**Parameters**

|  |   |   |
|--|--|--|
| [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) |media_player|Handle to the MediaPlayer instance. |
| [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) |timed_text|The Timed Text handle. |
| [MLWebVTTData](/api-ref/api/Modules/group___media_player/struct_m_l_web_v_t_t_data.md) ** |out_webvtt_data|The WebVTT data structure to be returned.|

**Returns**

|  |   |   |
|--|--|--|
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_InvalidParam|Failed due to an invalid parameter. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_Ok|Successfully returned WebVTT data. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_BadType|Failed because the timed_text handle was not in the WebVTT format. The timed text track's mime type must be "text/vtt". |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_NoInit|Failed because MediaPlayer was not properly initialized.|
**Required Permissions**:

  * None 


The returned [MLWebVTTData](/api-ref/api/Modules/group___media_player/struct_m_l_web_v_t_t_data.md) structure is valid only in the callback's context.




**API Level:**
  * 4




-----------

### MLMediaPlayerGetTTMLData {#mlresult-mlmediaplayergetttmldata}

```cpp
MLResult MLMediaPlayerGetTTMLData(
    MLHandle media_player,
    MLHandle timed_text,
    MLTTMLData ** out_ttml_data
)
```

Gets TTML data represented by a timed text handle. 

**Parameters**

|  |   |   |
|--|--|--|
| [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) |media_player|Handle to the MediaPlayer instance. |
| [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) |timed_text|The Timed Text handle. |
| [MLTTMLData](/api-ref/api/Modules/group___media_player/struct_m_l_t_t_m_l_data.md) ** |out_ttml_data|The TTML data structure to be returned.|

**Returns**

|  |   |   |
|--|--|--|
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_InvalidParam|Failed due to an invalid parameter. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_Ok|Successfully returned TTML data. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_BadType|Failed because the timed_text handle was not in the TTML format. The timed text track's mime type must be "application/ttml+xml". |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_NoInit|Failed because MediaPlayer was not properly initialized.|
**Required Permissions**:

  * None 


The returned [MLTTMLData](/api-ref/api/Modules/group___media_player/struct_m_l_t_t_m_l_data.md) structure is valid only in the callback's context.




**API Level:**
  * 20




-----------

### MLMediaPlayerResetAsync {#mlresult-mlmediaplayerresetasync}

```cpp
MLResult MLMediaPlayerResetAsync(
    MLHandle media_player
)
```

Resets the [Media Player](/api-ref/api/Modules/group___media_player/group___media_player.md) to its uninitialized state asynchronously. 

**Parameters**

|  |   |   |
|--|--|--|
| [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) |media_player|Handle to the MediaPlayer instance.|

**Returns**

|  |   |   |
|--|--|--|
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_InvalidParam|Failed due to an invalid parameter. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_Ok|Successfully launched MediaPlayer reset operation asynchronously. For result, poll for MLMediaPlayerPollingStateFlag_HasResetCompleted or use the 'on_reset_complete' callback if already set. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_UnspecifiedFailure|Failed due to an unknown error. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_InvalidOperation|Failed because method was called in the wrong state. This method can be called anytime except when in 'preparing async'. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_NoInit|Failed because MediaPlayer was not properly initialized.|
**Required Permissions**:

  * None 


This method is asynchronous and will return immediately. After invocation, you will have to initialize it again by setting the data source and calling prepare() or prepareAsync().

A successful reset result can be obtained either by registering the 'on_reset_complete' callback (see MLMediaPlayerSetEventCallbacksEx) or by polling for the 'MLMediaPlayerPollingStateFlag_HasResetCompleted' flag when calling [MLMediaPlayerPollStates()](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayerpollstates).




**API Level:**
  * 8




-----------

### MLMediaPlayerGetMetrics {#mlresult-mlmediaplayergetmetrics}

```cpp
MLResult MLMediaPlayerGetMetrics(
    MLHandle media_player,
    MLMediaPlayerMetrics * out_metrics
)
```

Retrieves metrics recorded on the MediaPlayer. 

**Parameters**

|  |   |   |
|--|--|--|
| [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) |media_player|Handle to the MediaPlayer instance. |
| [MLMediaPlayerMetrics](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_metrics.md) * |out_metrics|See [MLMediaPlayerMetrics](/api-ref/api/Modules/group___media_player/struct_m_l_media_player_metrics.md).|

**Returns**

|  |   |   |
|--|--|--|
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_InvalidParam|Failed due to an invalid parameter. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_Ok|Successfully received metrics. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_UnspecifiedFailure|Failed due to an unknown error. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_InvalidOperation|Failed because method was called in the wrong state. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_NoInit|Failed because MediaPlayer was not properly initialized.|
**Required Permissions**:

  * None 





**API Level:**
  * 8




-----------

### MLMediaPlayerSetSurface {#mlresult-mlmediaplayersetsurface}

```cpp
MLResult MLMediaPlayerSetSurface(
    MLHandle media_player,
    MLHandle surface
)
```

Sets the Native surface to be used as the sink for displaying the video portion of the media. 

**Parameters**

|  |   |   |
|--|--|--|
| [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) |media_player|Handle to the MediaPlayer instance. |
| [MLHandle](/api-ref/api/Modules/group___platform/group___platform.md#uint64-t-mlhandle) |surface|Handle to the MLNativeSurface object.|

**Returns**

|  |   |   |
|--|--|--|
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_InvalidParam|Passed media_player or the surface handle was not found. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_Ok|Successfully set output surface. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLResult_UnspecifiedFailure|Internal error. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_InvalidOperation|Method was called from the wrong state. |
| [MLResult](/api-ref/api/Modules/group___platform/group___platform.md#int32-t-mlresult) |MLMediaGenericResult_NoInit|MediaPlayer was not properly built or initialized.|
**Required Permissions**:

  * None 


The surface should be created by [MLNativeSurfaceCreate()](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlnativesurfacecreate). When called, this method should be called after one of the MLMediaPlayerSetDataSource() API and before [MLMediaPlayerPrepare()](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayerprepare) or [MLMediaPlayerPrepareAsync()](/api-ref/api/Modules/group___media_player/group___media_player.md#mlresult-mlmediaplayerprepareasync) Not calling this method or calling this with surface as ML_INVALID_HANDLE will result in only the audio track being played.




**API Level:**
  * 20




-----------



## Source code

```cpp
// %BANNER_BEGIN%
// ---------------------------------------------------------------------
// %COPYRIGHT_BEGIN%
// Copyright (c) 2017 Magic Leap, Inc. All Rights Reserved.
// Use of this file is governed by the Software License Agreement,
// located here: https://www.magicleap.com/software-license-agreement-ml2
// Terms and conditions applicable to third-party materials accompanying
// this distribution may also be found in the top-level NOTICE file
// appearing herein.
// %COPYRIGHT_END%
// ---------------------------------------------------------------------
// %BANNER_END%

#pragma once

#include "ml_api.h"
#include "ml_media_common.h"
#include "ml_media_data_source.h"
#include "ml_media_error.h"
#include "ml_media_stream_source.h"
#include "ml_types.h"
#include "ml_media_types.h"
#include "ml_media_drm.h"
#include "ml_media_webvtt.h"
#include "ml_media_ttml.h"
#include <stddef.h>

ML_EXTERN_C_BEGIN

typedef enum MLMediaPlayerVideoScalingMode {
  MLMediaPlayerVideoScalingMode_ScaleToFit = 1,
  MLMediaPlayerVideoScalingMode_ScaleToFitWithCropping = 2,
  MLMediaPlayerVideoScalingMode_Ensure32Bits = 0x7FFFFFFF
} MLMediaPlayerVideoScalingMode;

typedef enum MLMediaPlayerPollingStateFlags {
  MLMediaPlayerPollingStateFlag_IsPlaying            = 1 << 0,
  MLMediaPlayerPollingStateFlag_IsLooping            = 1 << 1,
  MLMediaPlayerPollingStateFlag_HasBeenPrepared      = 1 << 2,
  MLMediaPlayerPollingStateFlag_HasPlaybackCompleted = 1 << 3,
  MLMediaPlayerPollingStateFlag_HasSeekCompleted     = 1 << 4,
  MLMediaPlayerPollingStateFlag_HasSizeChanged       = 1 << 5,
  MLMediaPlayerPollingStateFlag_HasBufferingUpdated  = 1 << 6,
  MLMediaPlayerPollingStateFlag_HasReceivedInfo      = 1 << 7,
  MLMediaPlayerPollingStateFlag_HasReceivedError     = 1 << 8,
  MLMediaPlayerPollingStateFlag_HasTimedTextUpdated  = 1 << 9,
  MLMediaPlayerPollingStateFlag_HasSubtitleUpdated   = 1 << 10,
  MLMediaPlayerPollingStateFlag_HasMetadataUpdated   = 1 << 11,
  MLMediaPlayerPollingStateFlag_HasDrmInfoUpdated    = 1 << 12,
  MLMediaPlayerPollingStateFlag_HasResetCompleted    = 1 << 13,
  MLMediaPlayerPollingStateFlag_Ensure32Bits = 0x7FFFFFFF
} MLMediaPlayerPollingStateFlags;

typedef enum MLMediaPlayerInfo {
  MLMediaPlayerInfo_Unknown           = 1,
  MLMediaPlayerInfo_StartedAsNext     = 2,
  MLMediaPlayerInfo_RenderingStart    = 3,
  MLMediaPlayerInfo_Looping           = 4,
  MLMediaPlayerInfo_Started           = 5,
  MLMediaPlayerInfo_Paused            = 6,
  MLMediaPlayerInfo_Stopped           = 7,
  MLMediaPlayerInfo_StartedBySharedPlayer = 8,
  MLMediaPlayerInfo_PausedBySharedPlayer  = 9,
  MLMediaPlayerInfo_SeekBySharedPlayer    = 10,
  MLMediaPlayerInfo_StoppedBySharedPlayer = 11,
  MLMediaPlayerInfo_SyncStart = 12,
  MLMediaPlayerInfo_SyncComplete = 13,
  MLMediaPlayerInfo_VideoTrackLagging = 700,
  MLMediaPlayerInfo_BufferingStart    = 701,
  MLMediaPlayerInfo_BufferingEnd      = 702,
  MLMediaPlayerInfo_NetworkBandwidth  = 703,
  MLMediaPlayerInfo_BehindLiveWindow  = 704,
  MLMediaPlayerInfo_PowerStatePause   = 705,
  MLMediaPlayerInfo_PowerStateResume  = 706,
  MLMediaPlayerInfo_BufferedDuration  = 707,
  MLMediaPlayerInfo_BadInterleaving   = 800,
  MLMediaPlayerInfo_NotSeekable       = 801,
  MLMediaPlayerInfo_MetadataUpdate    = 802,
  MLMediaPlayerInfo_PlayAudioError    = 804,
  MLMediaPlayerInfo_PlayVideoError    = 805,
  MLMediaPlayerInfo_TimedTextError    = 900,
  MLMediaPlayerInfo_Ensure32Bits      = 0x7FFFFFFF
} MLMediaPlayerInfo;

typedef enum MLMediaPlayerTrackType {
  MLMediaPlayerTrackType_Unknown      = 0,
  MLMediaPlayerTrackType_Video        = 1,
  MLMediaPlayerTrackType_Audio        = 2,
  MLMediaPlayerTrackType_TimedText    = 3,
  MLMediaPlayerTrackType_Subtitle     = 4,
  MLMediaPlayerTrackType_Metadata     = 5,
  MLMediaPlayerTrackType_Ensure32Bits = 0x7FFFFFFF
} MLMediaPlayerTrackType;

typedef MLPSSHEntry MLMediaPlayerPSSHEntry;

typedef struct MLMediaPlayerTrackDRMInfo {
  size_t pssh_info_count;
  MLMediaPlayerPSSHEntry *pssh_info;
  size_t uuid_count;
  MLUUID *UUIDs;
  MLMediaPlayerTrackType track_type;
} MLMediaPlayerTrackDRMInfo;

typedef struct MLMediaPlayerSubtitleData {
  uint32_t track_index;
  uint64_t start_time_us;
  uint64_t duration_us;
  uint32_t data_size;
  uint8_t *data;
} MLMediaPlayerSubtitleData;

typedef enum MLMediaPlayerBufferingMode {
  MLMediaPlayerBufferingMode_None         = 0,
  MLMediaPlayerBufferingMode_TimeOnly     = 1,
  MLMediaPlayerBufferingMode_SizeOnly     = 2,
  MLMediaPlayerBufferingMode_TimeThenSize = 3,
  MLMediaPlayerBufferingMode_Count        = 4,
  MLMediaPlayerBufferingMode_Ensure32Bits = 0x7FFFFFFF
} MLMediaPlayerBufferingMode;

typedef struct MLMediaPlayerBufferingSettings {
    MLMediaPlayerBufferingMode initial_buffering_mode;
    MLMediaPlayerBufferingMode rebuffering_mode;
    int32_t initial_watermark_ms;
    int32_t initial_watermark_kb;
    int32_t rebuffering_watermark_low_ms;
    int32_t rebuffering_watermark_high_ms;
    int32_t rebuffering_watermark_low_kb;
    int32_t rebuffering_watermark_high_kb;
} MLMediaPlayerBufferingSettings;

typedef struct MLMediaPlayerOnBufferingUpdateInfo {
  int percent;
  void *data;
} MLMediaPlayerOnBufferingUpdateInfo;

typedef struct MLMediaPlayerOnCompletionInfo {
  void *data;
} MLMediaPlayerOnCompletionInfo;

typedef struct MLMediaPlayerOnErrorInfo {
  MLResult result;
  void *data;
} MLMediaPlayerOnErrorInfo;

typedef struct MLMediaPlayerOnInfoInfo {
  MLMediaPlayerInfo info;
  int extra;
  void *data;
} MLMediaPlayerOnInfoInfo;

typedef struct MLMediaPlayerOnPreparedInfo {
  void *data;
} MLMediaPlayerOnPreparedInfo;

typedef struct MLMediaPlayerOnSeekCompleteInfo {
  void *data;
} MLMediaPlayerOnSeekCompleteInfo;

typedef struct MLMediaPlayerOnVideoSizeChangedInfo {
  int width;
  int height;
  void *data;
} MLMediaPlayerOnVideoSizeChangedInfo;

typedef struct MLMediaPlayerOnTrackDRMInfo {
  MLMediaPlayerTrackDRMInfo *track_info;
  void* data;
} MLMediaPlayerOnTrackDRMInfo;

typedef struct MLMediaPlayerOnResetCompleteInfo {
  void *data;
} MLMediaPlayerOnResetCompleteInfo;

typedef enum {
  MLMediaFramePackingMode_None = 0,
  MLMediaFramePackingMode_Checkboard,
  MLMediaFramePackingMode_ColumnInterleaved,
  MLMediaFramePackingMode_RowInterleaved,
  MLMediaFramePackingMode_SideBySideQuincunx,
  MLMediaFramePackingMode_SideBySide,
  MLMediaFramePackingMode_TopBottom,
  MLMediaFramePackingMode_MultiviewFrameByFrame,
  MLMediaFramePackingMode_FrameByFrame,
  MLMediaFramePackingMode_Anaglyph,
} MLMediaFramePackingMode;

typedef enum {
  MLMediaFramePackingFlags_None = 0,
  MLMediaFramePackingFlags_RightViewFirst = 1 << 0,
  MLMediaFramePackingFlags_LeftFlipped = 1 << 1,
  MLMediaFramePackingFlags_RightFlipped = 1 << 2,
  MLMediaFramePackingFlags_Anaglyph_RedCyan = 1 << 3,
  MLMediaFramePackingFlags_Anaglyph_GreenMagenta = 1 << 4,
} MLMediaFramePackingFlags;

typedef struct MLMediaPlayerOnFramePackingInfo {
  MLMediaFramePackingMode mode;
  MLMediaFramePackingFlags flags;
  void *data;
} MLMediaPlayerOnFramePackingInfo;

typedef struct MLMediaPlayerEventCallbacksEx {
  uint32_t version;
  void (*on_buffering_update)(MLHandle media_player, const MLMediaPlayerOnBufferingUpdateInfo *update_info);
  void (*on_completion)(MLHandle media_player, const MLMediaPlayerOnCompletionInfo *completion_info);
  void (*on_error)(MLHandle media_player, const MLMediaPlayerOnErrorInfo *error_info);
  void (*on_info)(MLHandle media_player, const MLMediaPlayerOnInfoInfo *info);
  void (*on_prepared)(MLHandle media_player, const MLMediaPlayerOnPreparedInfo *prepared_info);
  void (*on_seek_complete)(MLHandle media_player, const MLMediaPlayerOnSeekCompleteInfo *seek_complete_info);
  void (*on_video_size_changed)(MLHandle media_player, const MLMediaPlayerOnVideoSizeChangedInfo *video_size_info);
  void (*on_track_drm_info)(MLHandle media_player, const MLMediaPlayerOnTrackDRMInfo *track_drm_info);
  void (*on_reset_complete)(MLHandle media_player, const MLMediaPlayerOnResetCompleteInfo *reset_complete_info);
  void (*on_frame_packing)(MLHandle media_player, const MLMediaPlayerOnFramePackingInfo *frame_packing_info);
} MLMediaPlayerEventCallbacksEx;

ML_STATIC_INLINE void MLMediaPlayerEventCallbacksExInit(MLMediaPlayerEventCallbacksEx *inout_callbacks) {
  if (inout_callbacks) {
    inout_callbacks->version = 2;
    inout_callbacks->on_buffering_update = NULL;
    inout_callbacks->on_completion = NULL;
    inout_callbacks->on_error = NULL;
    inout_callbacks->on_info = NULL;
    inout_callbacks->on_prepared = NULL;
    inout_callbacks->on_seek_complete = NULL;
    inout_callbacks->on_video_size_changed = NULL;
    inout_callbacks->on_track_drm_info = NULL;
    inout_callbacks->on_reset_complete = NULL;
    inout_callbacks->on_frame_packing = NULL;
  }
}

typedef struct MLMediaPlayerTrackInfo {
  uint32_t version;
  MLMediaPlayerTrackType track_type;
} MLMediaPlayerTrackInfo;

ML_STATIC_INLINE void MLMediaPlayerTrackInfoInit(MLMediaPlayerTrackInfo *inout_track_info) {
  if (inout_track_info) {
    inout_track_info->version = 1;
    inout_track_info->track_type = MLMediaPlayerTrackType_Unknown;
  }
}

typedef struct MLMediaPlayerTrackDRMSessionInfo {
  uint32_t version;
  MLMediaPlayerTrackType track_type;
  const MLUUID *uuid;
  const MLMediaDRMByteArray *session_id;
} MLMediaPlayerTrackDRMSessionInfo;

ML_STATIC_INLINE void MLMediaPlayerTrackDRMSessionInfoInit(MLMediaPlayerTrackDRMSessionInfo *inout_drm_session_info) {
  if (inout_drm_session_info) {
    inout_drm_session_info->version = 1;
    inout_drm_session_info->track_type = MLMediaPlayerTrackType_Unknown;
    inout_drm_session_info->uuid = NULL;
    inout_drm_session_info->session_id = NULL;
  }
}

ML_API MLResult ML_CALL MLMediaPlayerCreate(MLHandle *out_handle);

ML_API MLResult ML_CALL MLMediaPlayerDestroy(MLHandle media_player);

ML_API MLResult ML_CALL MLMediaPlayerSetDataSourceForFD(MLHandle media_player, int32_t fd);

ML_API MLResult ML_CALL MLMediaPlayerSetOffsetDataSourceForFD(MLHandle media_player, int32_t fd, int64_t offset, int64_t length);

ML_API MLResult ML_CALL MLMediaPlayerSetDataSourceForPath(MLHandle media_player, const char *path);

ML_API MLResult ML_CALL MLMediaPlayerSetDataSourceForURI(MLHandle media_player, const char *uri);

ML_API MLResult ML_CALL MLMediaPlayerSetRemoteDataSourceForURI(MLHandle media_player, const char *uri, char **headers, size_t len);

ML_API MLResult ML_CALL MLMediaPlayerSetMediaDataSource(MLHandle media_player, MLHandle media_data_source);

ML_API MLResult ML_CALL MLMediaPlayerSetMediaStreamSource(MLHandle media_player, MLHandle media_stream_source);

ML_API MLResult ML_CALL MLMediaPlayerAddTimedTextSourceForURI(MLHandle media_player, const char *uri, const char *mime_type);

ML_API MLResult ML_CALL MLMediaPlayerAddTimedTextSourceForFD(MLHandle media_player, int32_t fd, int64_t offset, int64_t length, const char *mime_type);

ML_API MLResult ML_CALL MLMediaPlayerSetNextPlayer(MLHandle media_player, MLHandle next_media_player);

ML_API MLResult ML_CALL MLMediaPlayerGetTrackCount(MLHandle media_player, uint32_t *out_track_count);

ML_API MLResult ML_CALL MLMediaPlayerGetTrackType(MLHandle media_player, uint32_t track, MLMediaPlayerTrackType *out_track_type);

ML_API MLResult ML_CALL MLMediaPlayerGetTrackLanguage(MLHandle media_player, uint32_t track, char **out_track_language);

ML_API MLResult ML_CALL MLMediaPlayerGetTrackMediaFormat(MLHandle media_player, uint32_t track, MLHandle *out_media_format);

ML_API MLResult ML_CALL MLMediaPlayerSelectTrack(MLHandle media_player, uint32_t track);

ML_API MLResult ML_CALL MLMediaPlayerUnselectTrack(MLHandle media_player, uint32_t track);

ML_API MLResult ML_CALL MLMediaPlayerPrepare(MLHandle media_player);

ML_API MLResult ML_CALL MLMediaPlayerPrepareAsync(MLHandle media_player);

ML_API MLResult ML_CALL MLMediaPlayerStart(MLHandle media_player);

ML_API MLResult ML_CALL MLMediaPlayerStop(MLHandle media_player);

ML_API MLResult ML_CALL MLMediaPlayerPause(MLHandle media_player);

ML_API MLResult ML_CALL MLMediaPlayerReset(MLHandle media_player);

ML_API MLResult ML_CALL MLMediaPlayerSeekTo(MLHandle media_player, int msec, MLMediaSeekMode mode);

ML_API MLResult ML_CALL MLMediaPlayerSetEventCallbacksEx(MLHandle media_player, const MLMediaPlayerEventCallbacksEx *callbacks, void *data);

ML_API MLResult ML_CALL MLMediaPlayerGetVideoSize(MLHandle media_player, int32_t *out_width, int32_t *out_height);

ML_API MLResult ML_CALL MLMediaPlayerGetCurrentPosition(MLHandle media_player, int32_t *out_msec);

ML_API MLResult ML_CALL MLMediaPlayerGetDuration(MLHandle media_player, int32_t *out_msec);

ML_API MLResult ML_CALL MLMediaPlayerGetBufferingUpdate(MLHandle media_player, int32_t *out_percentage);

ML_API MLResult ML_CALL MLMediaPlayerGetInfo(MLHandle media_player, int32_t *out_code, int32_t *out_extra);

ML_API MLResult ML_CALL MLMediaPlayerGetError(MLHandle media_player, MLResult *out_result);

ML_API MLResult ML_CALL MLMediaPlayerGetTimedText(MLHandle media_player, const char **out_text, int32_t *out_start, int32_t *out_end);

ML_API MLResult ML_CALL MLMediaPlayerGetSubtitleEx(MLHandle media_player, MLMediaPlayerSubtitleData **out_subtitle_data);

ML_API MLResult ML_CALL MLMediaPlayerReleaseSubtitleEx(MLHandle media_player);

typedef void(*MLMediaPlayerOnMediaSubtitleUpdateCallback)(MLHandle media_player, MLMediaPlayerSubtitleData subtitle_data, void *data);

ML_API MLResult ML_CALL MLMediaPlayerSetOnMediaSubtitleUpdateCallback(MLHandle media_player, MLMediaPlayerOnMediaSubtitleUpdateCallback on_media_subtitle_callback, void *data);

ML_API MLResult ML_CALL MLMediaPlayerGetMetadata(MLHandle media_player, int64_t *out_time, int32_t *out_size, uint8_t **out_buffer);

ML_API MLResult ML_CALL MLMediaPlayerSetVideoScalingMode(MLHandle media_player, MLMediaPlayerVideoScalingMode mode);

ML_API MLResult ML_CALL MLMediaPlayerSetLooping(MLHandle media_player, bool loop);

ML_API MLResult ML_CALL MLMediaPlayerSetVolume(MLHandle media_player, float volume);

ML_DEPRECATED_MSG("This feature is not supported starting 1.2.0.")
ML_API MLResult ML_CALL MLMediaPlayerGetAudioHandle(MLHandle media_player, MLHandle *out_handle);

ML_API MLResult ML_CALL MLMediaPlayerPollStates(MLHandle media_player, uint16_t mask, uint16_t *out_polled_states);

ML_API MLResult ML_CALL MLMediaPlayerGetTrackDRMInfo(MLHandle media_player, const MLMediaPlayerTrackInfo *track_info, MLMediaPlayerTrackDRMInfo **out_drm_info);

ML_API MLResult ML_CALL MLMediaPlayerPrepareTrackDRM(MLHandle media_player, const MLMediaPlayerTrackDRMSessionInfo *drm_session_info);

ML_API MLResult ML_CALL MLMediaPlayerReleaseDRM(MLHandle media_player);

ML_API MLResult ML_CALL MLMediaPlayerGetDefaultBufferingSettings(MLHandle media_player, MLMediaPlayerBufferingSettings *out_buf_settings);

ML_API MLResult ML_CALL MLMediaPlayerGetBufferingSettings(MLHandle media_player, MLMediaPlayerBufferingSettings *out_buf_settings);

ML_API MLResult ML_CALL MLMediaPlayerSetBufferingSettings(MLHandle media_player, MLMediaPlayerBufferingSettings buf_settings);

typedef void(*MLMediaPlayerOnMediaTimedTextUpdateCallback)(MLHandle media_player, MLHandle timed_text, void *data);

ML_API MLResult ML_CALL MLMediaPlayerSetOnMediaTimedTextUpdateCallback(MLHandle media_player, MLMediaPlayerOnMediaTimedTextUpdateCallback on_media_timed_text_callback, void *data);

ML_API MLResult ML_CALL MLMediaPlayerGetWebVTTData(MLHandle media_player, MLHandle timed_text, MLWebVTTData **out_webvtt_data);

ML_API MLResult ML_CALL MLMediaPlayerGetTTMLData(MLHandle media_player, MLHandle timed_text, MLTTMLData **out_ttml_data);

ML_API MLResult ML_CALL MLMediaPlayerResetAsync(MLHandle media_player);

typedef struct MLMediaPlayerMetrics {
  float average_framerate;
  int average_video_bitrate;
  int average_audio_bitrate;
} MLMediaPlayerMetrics;

ML_API MLResult ML_CALL MLMediaPlayerGetMetrics(MLHandle media_player, MLMediaPlayerMetrics *out_metrics);

ML_API MLResult ML_CALL MLMediaPlayerSetSurface(MLHandle media_player, MLHandle surface);
ML_EXTERN_C_END
```



