---
id: unity-controller-api-overview
title: API Overview
sidebar_position: 0
date: 04/01/2022
tags: [UnityController, Input]
keywords: [UnityController, Input]
---

## Controller API Overview

This section provides an overview on how to use Unity's Input System to access Magic Leap 2's controller input.

1. First create a new instance of `MagicLeapInputs` and initialize it by calling `.Enable()`.

:::note
The `MagicLeapInputs` is an auto generated class that creates a dynamic instance of an [`InputActionAsset`](https://docs.unity3d.com/Packages/com.unity.inputsystem@1.0/api/UnityEngine.InputSystem.InputActionAsset.html) which includes predefined [Action Maps](https://docs.unity3d.com/Packages/com.unity.inputsystem@1.0/api/UnityEngine.InputSystem.InputActionMap.html) that correspond to all of the Magic Leap 2's input.
:::

2. Create an instance of `MagicLeapInputs.ControllerActions`, passing in an instance of the `MagicLeapInputs`.

:::note
The `MagicLeapInputs.ControllerActions` is an [Action Map](https://docs.unity3d.com/Packages/com.unity.inputsystem@1.0/api/UnityEngine.InputSystem.InputActionMap.html?q=action%20map) that was auto-generated by the Unity Input System and includes predefined bindings for the Magic Leap 2 Controller Input Events.
:::

3. Subscribe to the input using the events in the `ControllerActions` and read input values using the Input Action's `CallbackContext` or read the Input Action's values directly using `InputAction.ReadValue<T>()`.

:::note
View Unity's `InputActions` [Documentation](https://docs.unity3d.com/Packages/com.unity.inputsystem@1.0/api/UnityEngine.InputSystem.InputAction.html) for more information on how to read values from the callback.
:::

```csharp
private MagicLeapInputs mlInputs;
private MagicLeapInputs.ControllerActions controllerActions;
 
void Start()
{
    mlInputs = new MagicLeapInputs();
    mlInputs.Enable();
    controllerActions = new MagicLeapInputs.ControllerActions(mlInputs);
    controllerActions.Bumper.performed += HandleOnBumper;
}

private void HandleOnBumper(InputAction.CallbackContext obj)
{
    bool bumperDown = obj.ReadValueAsButton();
    Debug.Log("The Bumper is pressed down " + bumperDown);
}
 
void OnDestroy()
{         
    mlInputs.Dispose();
}
```

## Input Table
The following inputs can be accessed via `ControllerActions`

| Name              | Type   | ControlType | InitialStateCheck | Description                                                                                                                                                                        |
|-------------------|--------|-------------|-------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Position          | Value  | Vector3     |        TRUE       | The position of the controller in world space                                                                                                                                      |
| Rotation          | Value  | Quaternion  |        TRUE       | The rotation of the controller in world space                                                                                                                                      |
| Trigger           | Value  | Analog      |        TRUE       | An analog value between 0-1 corresponding to how far the trigger is pressed. Its activation range and "dead zone" can be assigned under `Project Settings > Input System Package` |
| Bumper            | Button | Button      |        TRUE       | A digital value that corresponds to the pressing of the bumper button above the trigger                                                                                            |
| Touchpad1Position | Value  | Vector2     |        TRUE       | The XY position of the first touch on the touchpad, where the center is `0,0` and the XY values are between `-1` and `1`                                                           |
| Touchpad1         | Value  | Button      |        TRUE       | A digital value that corresponds to the pressing of the touchpad as a button                                                                                                       |
| Touchpad1Force    | Value  | Analog      |        TRUE       | An analog value between 0-1 that corresponds to how hard the touchpad is pressed                                                                                                   |
| Touchpad2         | Value  | Vector2     |        TRUE       | The XY position of the second touch on the touchpad, where the center is `0,0` and the XY values are between `-1` and `1`                                                          |
| Menu              | Button | Button      |       FALSE       | A digital value that corresponds to the pressing of the menu button (above the home button)                                                                                        |
| IsTracked         | Pass-Through |  --     |       TRUE       | A digital value that represents whether the controller is currently connected and tracked                                                                                          |
